window.__require=function t(e,n,o){function i(a,c){if(!n[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!c&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,n,o)}return n[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({LanguageData:[function(t,e,n){"use strict";cc._RF.push(e,"61de062n4dJ7ZM9/Xdumozn","LanguageData");var o=t("polyglot.min"),i=null;function r(t){return window.i18n.languages[t]}function a(t){t&&(i?i.replace(t):i=new o({phrases:t,allowMissing:!0}))}window.i18n||(window.i18n={languages:{},curLang:""}),e.exports={init:function(t){if(t!==window.i18n.curLang){var e=r(t)||{};window.i18n.curLang=t,a(e),this.inst=i}},t:function(t,e){if(i)return i.t(t,e)},inst:i,updateSceneRenderers:function(){for(var t=cc.director.getScene().children,e=[],n=0;n<t.length;++n){var o=t[n].getComponentsInChildren("LocalizedLabel");Array.prototype.push.apply(e,o)}for(var i=0;i<e.length;++i){var r=e[i];r.node.active&&r.updateLabel()}for(var a=[],c=0;c<t.length;++c){var s=t[c].getComponentsInChildren("LocalizedSprite");Array.prototype.push.apply(a,s)}for(var l=0;l<a.length;++l){var u=a[l];u.node.active&&u.updateSprite(window.i18n.curLang)}}},cc._RF.pop()},{"polyglot.min":"polyglot.min"}],LocalizedLabel:[function(t,e,n){"use strict";cc._RF.push(e,"744dcs4DCdNprNhG0xwq6FK","LocalizedLabel");var o=t("LanguageData");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,menu:"i18n/LocalizedLabel"},properties:{dataID:{get:function(){return this._dataID},set:function(t){this._dataID!==t&&(this._dataID=t,this.updateLabel())}},_dataID:""},onLoad:function(){o.inst||o.init(),this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Label);if(t)return this.label=t,void this.updateLabel()},updateLabel:function(){this.label?o.t(this.dataID)&&(this.label.string=o.t(this.dataID)):cc.error("Failed to update localized label, label component is invalid!")}}),cc._RF.pop()},{LanguageData:"LanguageData"}],LocalizedSprite:[function(t,e,n){"use strict";cc._RF.push(e,"f34ac2GGiVOBbG6XlfvgYP4","LocalizedSprite");var o=t("SpriteFrameSet");cc.Class({extends:cc.Component,editor:{executeInEditMode:!0,inspector:"packages://i18n/inspector/localized-sprite.js",menu:"i18n/LocalizedSprite"},properties:{spriteFrameSet:{default:[],type:o}},onLoad:function(){this.fetchRender()},fetchRender:function(){var t=this.getComponent(cc.Sprite);if(t)return this.sprite=t,void this.updateSprite(window.i18n.curLang)},getSpriteFrameByLang:function(t){for(var e=0;e<this.spriteFrameSet.length;++e)if(this.spriteFrameSet[e].language===t)return this.spriteFrameSet[e].spriteFrame},updateSprite:function(t){if(this.sprite){var e=this.getSpriteFrameByLang(t);!e&&this.spriteFrameSet[0]&&(e=this.spriteFrameSet[0].spriteFrame),this.sprite.spriteFrame=e}else cc.error("Failed to update localized sprite, sprite component is invalid!")}}),cc._RF.pop()},{SpriteFrameSet:"SpriteFrameSet"}],SpriteFrameSet:[function(t,e,n){"use strict";cc._RF.push(e,"97019Q80jpE2Yfz4zbuCZBq","SpriteFrameSet");var o=cc.Class({name:"SpriteFrameSet",properties:{language:"",spriteFrame:cc.SpriteFrame}});e.exports=o,cc._RF.pop()},{}],"act-error":[function(t,e,n){"use strict";cc._RF.push(e,"7a9f7QX44BHA7KJ2UJONkLH","act-error"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../constants"),i=function(t){function e(){return t.call(this,{name:"Error"})||this}return __extends(e,t),e.prototype.tick=function(t){return o.NodeState.Error},e}(t("../../core/bt-action").default);n.default=i,cc._RF.pop()},{"../../constants":"constants","../../core/bt-action":"bt-action"}],"act-failer":[function(t,e,n){"use strict";cc._RF.push(e,"72c3eDNrz5Gfp1Uyn1Cqs9O","act-failer"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-action"),i=t("../../constants"),r=function(t){function e(){return t.call(this,{name:"Failer"})||this}return __extends(e,t),e.prototype.tick=function(t){return i.NodeState.Failure},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-action":"bt-action"}],"act-includes":[function(t,e,n){"use strict";cc._RF.push(e,"76e35ELJb9FcpaIhevO2XjX","act-includes"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./act-error");n.ActionError=o.default;var i=t("./act-failer");n.ActionFailer=i.default;var r=t("./act-runner");n.ActionRunner=r.default;var a=t("./act-succeeder");n.ActionSucceeder=a.default;var c=t("./act-wait");n.ActionWait=c.default,cc._RF.pop()},{"./act-error":"act-error","./act-failer":"act-failer","./act-runner":"act-runner","./act-succeeder":"act-succeeder","./act-wait":"act-wait"}],"act-runner":[function(t,e,n){"use strict";cc._RF.push(e,"13347mwTUFFKpCqRPhm3EJp","act-runner"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-action"),i=t("../../constants"),r=function(t){function e(){return t.call(this,{name:"Runner"})||this}return __extends(e,t),e.prototype.tick=function(t){return i.NodeState.Running},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-action":"bt-action"}],"act-succeeder":[function(t,e,n){"use strict";cc._RF.push(e,"03407rxtlhFx42iCgwvA2/8","act-succeeder"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-action"),i=t("../../constants"),r=function(t){function e(){return t.call(this,{name:"Succeeder"})||this}return __extends(e,t),e.prototype.tick=function(t){return i.NodeState.Success},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-action":"bt-action"}],"act-wait":[function(t,e,n){"use strict";cc._RF.push(e,"10ec2+8XE9EKYQLLOd5eOHH","act-wait"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-action"),i=t("../../constants"),r=function(t){function e(e){var n=(void 0===e?{}:e).milliseconds,o=void 0===n?0:n,i=t.call(this,{name:"Wait",title:"Wait <milliseconds>ms",properties:{milliseconds:o}})||this;return i.endTime=o,i}return __extends(e,t),e.prototype.open=function(t){var e=(new Date).getTime();t.blackboard.set("startTime",e,t.tree.id,this.id)},e.prototype.tick=function(t){return(new Date).getTime()-t.blackboard.get("startTime",t.tree.id,this.id)>this.endTime?i.NodeState.Success:i.NodeState.Running},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-action":"bt-action"}],"atlas-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"02eefps7PpDR5puSdCmDQdQ","atlas-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../data/constant"),i=t("../util/utils"),r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._atlasMap=new Map,e}return __extends(e,t),e.prototype.init=function(){var t=this;["ui","model"].forEach(function(e){t._atlasMap[e]=i.Util.loadAsset(o.ResType.SpriteAtlas,e)})},e.prototype.getAtlas=function(t){return this._atlasMap[t]},e.prototype.getSpriteFrame=function(t,e){var n=this.getAtlas(t);return n?n.getSpriteFrame(e):null},e.prototype.getModel=function(t){return this.getSpriteFrame("model",t)},e.prototype.getUI=function(t){return this.getSpriteFrame("ui",t)},e=__decorate([a],e)}(cc.Component));n.AtlasMgr=c,cc._RF.pop()},{"../../data/constant":"constant","../util/utils":"utils"}],"audio-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"f070bOqun9B54sX88DZYcIQ","audio-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../data/constant"),i=t("../util/utils"),r=cc._decorator.ccclass,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._audioMap={},e._bgAS=null,e._time=0,e.loadedNum=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"bgVolume",{get:function(){return this._bgAS.volume},set:function(t){this._bgAS.volume=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"effectVolume",{get:function(){return cc.audioEngine.getEffectsVolume()},set:function(t){cc.audioEngine.setEffectsVolume(t)},enumerable:!0,configurable:!0}),e.prototype.play=function(t){cc.audioEngine.playEffect(this._audioMap[t],!1)},e.prototype.playBg=function(t,e){void 0===e&&(e=!0),this._bgAS.stop(),this._bgAS.clip=this._audioMap[t],this._bgAS.loop=e,this._bgAS.play()},e.prototype.pauseBg=function(){this._bgAS.pause()},e.prototype.resumeBg=function(){this._bgAS.resume()},e.prototype.randomBg=function(){this.unschedule(this._innerPlayBg),this.playBg("bg"+i.Util.randomInt(1,4)),this.schedule(this._innerPlayBg,1)},e.prototype._innerPlayBg=function(){var t=this._bgAS.getDuration();this._time>=t&&(this.playBg("bg"+i.Util.randomInt(1,4)),this._time=0),this._time++},e.prototype.init=function(){for(var t in this._bgAS=this.node.addComponent(cc.AudioSource),o.GameAudio)this.loadAudioResource(o.GameAudio[t])},e.prototype.audioResNum=function(){var t=0;for(var e in o.GameAudio)t++;return t},e.prototype.loadAudioResource=function(t){this._audioMap[t]||(this._audioMap[t]=i.Util.loadAsset(o.ResType.Audio,t),this.loadedNum++)},e=__decorate([r],e)}(cc.Component);n.default=a,cc._RF.pop()},{"../../data/constant":"constant","../util/utils":"utils"}],"b3-functions":[function(t,e,n){"use strict";cc._RF.push(e,"27b33LfkM1GZIYPFz1x+ugj","b3-functions"),Object.defineProperty(n,"__esModule",{value:!0}),n.createUUID=function(){for(var t=[],e=0;e<36;e++)t[e]="0123456789abcdef".substr(Math.floor(16*Math.random()),1);return t[14]="4",t[19]="0123456789abcdef".substr(3&t[19]|8,1),t[8]=t[13]=t[18]=t[23]="-",t.join("")},cc._RF.pop()},{}],"base-panel":[function(t,e,n){"use strict";cc._RF.push(e,"67056IOiTFHmbAocSreijgh","base-panel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../data/constant"),i=t("../mgr/game-mgr"),r=t("../databind/property-contex"),a=cc._decorator,c=a.ccclass,s=a.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.layer=o.UILayer.MAIN,e.isAnimation=!1,e.animDuration=.12,e.isNeedMask=!1,e.isCloseOnTapMask=!1,e._params={},e._panelName=o.UIPanel.None,e.isInited=!1,e.mask=null,e}return __extends(e,t),e.prototype.start=function(){this.init(),this.isInited=!0},e.prototype.open=function(t){this._params=t||{},this.schedule(this.realOpen,.001)},e.prototype.realOpen=function(){this.isInited&&(this.unschedule(this.realOpen),this.initParams(this._params),this.onOpen(),this.onRefreshUI())},e.prototype.initParams=function(t){},e.prototype.onEnable=function(){this.registerEvent()},e.prototype.onDisable=function(){this.removeEvent()},e.prototype.registerEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.onOpen=function(){},e.prototype.onClose=function(){},e.prototype.onTapMask=function(){this.isCloseOnTapMask&&this.close()},e.prototype.close=function(){this.onClose(),i.default.instance.uiMgr.closePanel(this._panelName)},__decorate([s({type:o.UILayer})],e.prototype,"layer",void 0),__decorate([s({tooltip:"\u6253\u5f00\u5173\u95ed\u662f\u5426\u64ad\u653e\u52a8\u753b"})],e.prototype,"isAnimation",void 0),__decorate([s({tooltip:"\u52a8\u753b\u65f6\u95f4"})],e.prototype,"animDuration",void 0),__decorate([s({tooltip:"\u662f\u5426\u9700\u8981\u9ed1\u8272\u906e\u7f69"})],e.prototype,"isNeedMask",void 0),__decorate([s({tooltip:"\u662f\u5426\u70b9\u51fb\u9ed1\u8272\u906e\u7f69\u5173\u95edUI"})],e.prototype,"isCloseOnTapMask",void 0),e=__decorate([c],e)}(r.default);n.default=l,cc._RF.pop()},{"../../data/constant":"constant","../databind/property-contex":"property-contex","../mgr/game-mgr":"game-mgr"}],"behavior-tree-project":[function(t,e,n){"use strict";cc._RF.push(e,"949ecjUWMNP9Jnp8QzEhKgc","behavior-tree-project"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./behavior-tree"),i=function(){function t(t,e){this._treeMap={};var n=t.trees;if(n)for(var i=0,r=n.length;i<r;i++){var a=new o.default,c=n[i];a.load(c,e),this._treeMap[c.title]=a}}return t.prototype.getTree=function(t){return this._treeMap[t]},t}();n.default=i,cc._RF.pop()},{"./behavior-tree":"behavior-tree"}],"behavior-tree":[function(t,e,n){"use strict";cc._RF.push(e,"583f2BpW11ErKTo1h7RI8Vo","behavior-tree"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../b3-functions"),i=t("../constants"),r=t("../basics/decorators/drt-includes"),a=t("../basics/composites/sel-includes"),c=t("../basics/actions/act-includes"),s=t("./bt-tick"),l=function(){function t(){this.id=o.createUUID(),this.title="The behavior tree",this.description="Default description",this.properties={},this.root=null,this.debug=null}return t.prototype.load=function(t,e){e=e||{},this.title=t.title||this.title,this.description=t.description||t.desc||this.description,this.properties=t.properties||t.props||this.properties;var n,o,s,l={};for(n in t.nodes){var u=void 0;if((o=t.nodes[n]).name in e)u=e[o.name];else if(o.name in r)u=r[o.name];else if(o.name in a)u=a[o.name];else{if(!(o.name in c))throw new EvalError('BehaviorTree.load: Invalid node name + "'+o.name+'".');u=c[o.name]}(s=new u(o.properties||o.props)).id=o.id||s.id||n,s.title=o.title||s.title,s.description=o.description||o.desc||s.description,s.properties=o.properties||o.props||s.properties,l[n]=s}for(n in t.nodes)if(o=t.nodes[n],(s=l[n]).category===i.BT_COMPOSITE&&o.children)for(var p=0;p<o.children.length;p++){var d=o.children[p];s.children.push(l[d])}else s.category===i.BT_DECORATOR&&o.child&&(s.child=l[o.child]);this.root=l[t.root]},t.prototype.dump=function(){var t={},e=[];if(t.title=this.title,t.description=this.description,t.root=this.root?this.root.id:null,t.properties=this.properties,t.nodes={},t.custom_nodes=[],!this.root)return t;for(var n=[this.root];n.length>0;){var o=n.pop(),s={};s.id=o.id,s.name=o.name,s.title=o.title,s.description=o.description,s.properties=o.properties,s.parameters=o.parameters;var l=o.constructor&&o.constructor.prototype,u=l&&l.name||o.name;if(!r[u]&&!a[u]&&!c[u]&&e.indexOf(u)<0){var p={};p.name=u,p.title=l&&l.title||o.title,p.category=o.category,e.push(u),t.custom_nodes.push(p)}if(o.category===i.BT_COMPOSITE&&o.children){for(var d=[],h=o.children.length-1;h>=0;h--)d.push(o.children[h].id),n.push(o.children[h]);s.children=d}else o.category===i.BT_DECORATOR&&o.child&&(n.push(o.child),s.child=o.child.id);t.nodes[o.id]=s}return t},t.prototype.tick=function(t,e){if(!e)throw"The blackboard parameter is obligatory and must be an instance of b3.Blackboard";var n=new s.default;n.debug=this.debug,n.target=t,n.blackboard=e,n.tree=this;var o,i=this.root._execute(n),r=e.get("openNodes",this.id),a=n._openNodes.slice(0),c=0;for(o=0;o<Math.min(r.length,a.length)&&(c=o+1,r[o]===a[o]);o++);for(o=r.length-1;o>=c;o--)r[o]._close(n);return e.set("openNodes",a,this.id),e.set("nodeCount",n._nodeCount,this.id),i},t}();n.default=l,cc._RF.pop()},{"../b3-functions":"b3-functions","../basics/actions/act-includes":"act-includes","../basics/composites/sel-includes":"sel-includes","../basics/decorators/drt-includes":"drt-includes","../constants":"constants","./bt-tick":"bt-tick"}],"black-board":[function(t,e,n){"use strict";cc._RF.push(e,"7d82c7t4JZGRIZ/ascC7MhJ","black-board"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this._baseMemory={},this._treeMemory={}}return t.prototype._getTreeMemory=function(t){return this._treeMemory[t]||(this._treeMemory[t]={nodeMemory:{},openNodes:[],traversalDepth:0,traversalCycle:0}),this._treeMemory[t]},t.prototype._getNodeMemory=function(t,e){var n=t.nodeMemory;return n[e]||(n[e]={}),n[e]},t.prototype._getMemory=function(t,e){var n=this._baseMemory;return t&&(n=this._getTreeMemory(t),e&&(n=this._getNodeMemory(n,e))),n},t.prototype.set=function(t,e,n,o){this._getMemory(n,o)[t]=e},t.prototype.get=function(t,e,n){return this._getMemory(e,n)[t]},t}();n.default=o,cc._RF.pop()},{}],"bt-action":[function(t,e,n){"use strict";cc._RF.push(e,"f1a5c14q6pJJo/pYthuzzd5","bt-action"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./bt-base-node"),i=t("../constants"),r=function(t){function e(e){var n=void 0===e?{}:e,o=n.name,r=void 0===o?"Action":o,a=n.title,c=void 0===a?"":a,s=n.properties,l=void 0===s?{}:s;return t.call(this,{category:i.BT_ACTION,name:r,title:c,properties:l})||this}return __extends(e,t),e}(o.default);n.default=r,cc._RF.pop()},{"../constants":"constants","./bt-base-node":"bt-base-node"}],"bt-base-node":[function(t,e,n){"use strict";cc._RF.push(e,"12b26/5JC1EvpMnP9af1oVf","bt-base-node"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../b3-functions"),i=t("../constants"),r=function(){function t(t){this.id=o.createUUID();var e=t.category,n=t.name,i=t.title,r=t.description,a=t.properties;this.category=e||"",this.name=n||"",this.title=i||this.name,this.description=r||"",this.properties=a||{},this.parameters={}}return t.prototype._execute=function(t){this._enter(t),t.blackboard.get("isOpen",t.tree.id,this.id)||this._open(t);var e=this._tick(t);return e!==i.NodeState.Running&&this._close(t),this._exit(t),e},t.prototype._enter=function(t){t._enterNode(this),this.enter(t)},t.prototype._open=function(t){t._openNode(this),t.blackboard.set("isOpen",!0,t.tree.id,this.id),this.open(t)},t.prototype._tick=function(t){return t._tickNode(this),this.tick(t)},t.prototype._close=function(t){t._closeNode(this),t.blackboard.set("isOpen",!1,t.tree.id,this.id),this.close(t)},t.prototype._exit=function(t){t._exitNode(this),this.exit(t)},t.prototype.enter=function(t){},t.prototype.open=function(t){},t.prototype.close=function(t){},t.prototype.exit=function(t){},t}();n.default=r,cc._RF.pop()},{"../b3-functions":"b3-functions","../constants":"constants"}],"bt-composite":[function(t,e,n){"use strict";cc._RF.push(e,"a6ba1rK/VhLrZ8d/1IaCC5Z","bt-composite"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./bt-base-node"),i=t("../constants"),r=function(t){function e(e){var n=void 0===e?{}:e,o=n.children,r=void 0===o?[]:o,a=n.name,c=void 0===a?"Composite":a,s=n.title,l=void 0===s?"":s,u=n.properties,p=void 0===u?{}:u,d=t.call(this,{category:i.BT_COMPOSITE,name:c,title:l,properties:p})||this;return d.children=r.slice(0),d}return __extends(e,t),e}(o.default);n.default=r,cc._RF.pop()},{"../constants":"constants","./bt-base-node":"bt-base-node"}],"bt-condition":[function(t,e,n){"use strict";cc._RF.push(e,"6f02eM63VFMFLZ5WEJfo1UT","bt-condition"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./bt-base-node"),i=t("../constants"),r=function(t){function e(e){var n=void 0===e?{}:e,o=n.name,r=void 0===o?"Condition":o,a=n.title,c=void 0===a?"":a,s=n.properties,l=void 0===s?{}:s;return t.call(this,{category:i.BT_CONDITION,name:r,title:c,properties:l})||this}return __extends(e,t),e}(o.default);n.default=r,cc._RF.pop()},{"../constants":"constants","./bt-base-node":"bt-base-node"}],"bt-decorator":[function(t,e,n){"use strict";cc._RF.push(e,"d3573kj94RAHa68blcThPo2","bt-decorator"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./bt-base-node"),i=t("../constants"),r=function(t){function e(e){var n=void 0===e?{}:e,o=n.child,r=void 0===o?null:o,a=n.name,c=void 0===a?"Decorator":a,s=n.title,l=void 0===s?"":s,u=n.properties,p=void 0===u?{}:u,d=t.call(this,{category:i.BT_DECORATOR,name:c,title:l,properties:p})||this;return d.child=r,d}return __extends(e,t),e}(o.default);n.default=r,cc._RF.pop()},{"../constants":"constants","./bt-base-node":"bt-base-node"}],"bt-tick":[function(t,e,n){"use strict";cc._RF.push(e,"1b7cexZWuhCl69hTR0J0rPn","bt-tick"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.tree=null,this.debug=null,this.target=null,this.blackboard=null,this._tickData=null,this._openNodes=[],this._nodeCount=0}return t.prototype.getTickData=function(){return this._tickData||(this._tickData={}),this._tickData},t.prototype._enterNode=function(t){this._nodeCount++,this._openNodes.push(t)},t.prototype._openNode=function(t){},t.prototype._tickNode=function(t){},t.prototype._closeNode=function(t){this._openNodes.pop()},t.prototype._exitNode=function(t){},t}();n.default=o,cc._RF.pop()},{}],collectionList:[function(t,e,n){"use strict";cc._RF.push(e,"5de73jCjeZDqanA2X2blTZH","collectionList"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbNumber=null,e.lbQuantities=null,e.lbScoreAdd=null,e.NumberData=0,e.ScoreAdd=0,e.quantities=0,e}return __extends(e,t),__decorate([r(cc.Label)],e.prototype,"lbNumber",void 0),__decorate([r(cc.Label)],e.prototype,"lbQuantities",void 0),__decorate([r(cc.Label)],e.prototype,"lbScoreAdd",void 0),e=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{}],"comm-struct":[function(t,e,n){"use strict";cc._RF.push(e,"f55ecymrW9Pv41eAs2MRbAj","comm-struct"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this._que=new Array}return t.prototype.deQueue=function(){if(this.size()<=0)return null;var t=this._que[0];return this._que.splice(0,1),t},t.prototype.front=function(){return this.size()<=0?null:this._que[0]},t.prototype.back=function(){return this.size()<=0?null:this._que[this.size()-1]},t.prototype.enQueue=function(t){this._que.push(t)},t.prototype.size=function(){return this._que.length},t}();n.Queue=o,cc._RF.pop()},{}],"common-interface":[function(t,e,n){"use strict";cc._RF.push(e,"6c345evk5tHSbPedqBWLRdD","common-interface"),Object.defineProperty(n,"__esModule",{value:!0}),cc._RF.pop()},{}],"confirm-panel":[function(t,e,n){"use strict";cc._RF.push(e,"dd92d98e91GS43gfwYeUgtX","confirm-panel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../comm/ui/base-panel"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._okCallback=null,e._noCallback=null,e.labelTitle=null,e.labelContent=null,e.labelCancel=null,e.labelOk=null,e}return __extends(e,t),e.prototype.initParams=function(t){this.labelTitle.string=t.title||"\u6807\u9898",this.labelContent.string=t.content||"",this.labelCancel.string=t.cancelText||"\u53d6\u6d88",this.labelOk.string=t.okText||"\u786e\u5b9a",this._okCallback=t.okCallback,this._noCallback=t.cancelCallback},e.prototype.onTapOk=function(t){this._okCallback&&this._okCallback(),this.close()},e.prototype.onTapCancel=function(t){this._noCallback&&this._noCallback(),this.close()},e.prototype.init=function(){},e.prototype.onRefreshUI=function(){},e=__decorate([r],e)}(o.default));n.default=a,cc._RF.pop()},{"../../comm/ui/base-panel":"base-panel"}],connection:[function(t,e,n){"use strict";cc._RF.push(e,"4cc56odYh1OgLP2eneSE8pu","connection"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("./rpc");(function(t){t[t.None=0]="None",t[t.Small=1]="Small",t[t.Verbose=2]="Verbose"})(o=n.RPC_LOG_LEVEL||(n.RPC_LOG_LEVEL={}));var r=function(){function t(t,e){this.name="",this.inbuff=null,this.logLevel=o.Verbose,this.onOpenHandler=t,this.onClosedHandler=e}return t.prototype.onOpen=function(t){this.onOpenHandler(t)},t.prototype.onMessage=function(t){this.inbuff&&0!==this.inbuff.byteLength?this.inbuff=function(t,e){var n=new Int8Array(t.byteLength+e.byteLength);return n.set(new Int8Array(t),0),n.set(new Int8Array(e),t.byteLength),n.buffer}(this.inbuff,t.data):this.inbuff=t.data,this.rpcParse()},t.prototype.onError=function(t){cc.log(this+"on error..."),this.close()},t.prototype.onClose=function(t){cc.log(this+"on close..."),this.onClosedHandler(t)},t.prototype.setRPC=function(t){this.rpc=t},t.prototype.setDispatch=function(t){this.dispatch=t},t.prototype.setLogLevel=function(t){this.logLevel=t},t.prototype.connect=function(t,e){this.host=t,this.port=e;var n="ws://"+this.host+":"+this.port;this.connectURL(n)},t.prototype.connectURL=function(t){this.url=t,this.socket=new WebSocket(t,["binary","base64"]),this.socket.binaryType="arraybuffer",this.socket.onopen=this.onOpen.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onclose=this.onClose.bind(this),this.socket.onerror=this.onError.bind(this)},t.prototype.close=function(){this.socket.close()},t.prototype.writeArrayBuffer=function(t){this.socket.send(t)},t.prototype.call=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(this.socket.readyState===WebSocket.OPEN){var r=this.rpc.cfg.getPidFromPname(t);if(r){var a=(e=this.rpc).pack.apply(e,[r].concat(n));if(this.writeArrayBuffer(a),this.logLevel===o.Verbose){var c=JSON.stringify(n);c=c.substr(1,c.length-2),console.log("["+this.name+"][C->S] "+t+"("+c+")")}else this.logLevel===o.Small&&console.log("["+this.name+"][C->S] "+t+"(...)")}else cc.log("["+this.name+"]There is no "+t+"...")}else cc.error("["+this.name+"]websocket is not opening!")},t.prototype.rpcParse=function(){var t=i.default.RPC_HEADER_SIZE,e=this.inbuff,n=new DataView(e),r=e.byteLength,a=0,c=this.rpc.cfg;if(!(r<=t)){for(;!(r<t);){var s=n.getInt32(a,!0)+t;if(r<s)break;var l=this.rpc.unpack(e,a+t);if(l){var u=l[0],p=l.slice(1),d=c.getPnameFromPid(u);c.getModule(u);if(this.logLevel===o.Verbose&&"rpc_client_fightd_empty_frame"!==d){var h=JSON.stringify(p);h=h.substr(1,h.length-2),console.log("["+this.name+"][S->C] "+d+"("+h+")")}else this.logLevel===o.Small&&console.log("["+this.name+"][S->C] "+d+"(...)");var f=this.dispatch.getFunction(d);if(f)try{f.apply(void 0,p)}catch(t){cc.error("["+this.name+"]rpc dispatch error:\n",d,t)}else cc.warn("["+this.name+"]rpc parse fail. function "+d+" not implement")}else cc.error("["+this.name+"]unpack fail.");r-=s,a+=s}e.byteLength===a?this.inbuff=null:this.inbuff=this.inbuff.slice(a)}},t}();n.default=r,cc._RF.pop()},{"./rpc":"rpc"}],constants:[function(t,e,n){"use strict";cc._RF.push(e,"055e5TZcS9I8Y8k4Sf0+NHQ","constants"),Object.defineProperty(n,"__esModule",{value:!0}),n.BT_VERSION="0.2.2",n.BT_COMPOSITE="composite",n.BT_DECORATOR="decorator",n.BT_ACTION="action",n.BT_CONDITION="condition",function(t){t[t.Success=1]="Success",t[t.Failure=2]="Failure",t[t.Running=3]="Running",t[t.Error=4]="Error"}(n.NodeState||(n.NodeState={})),cc._RF.pop()},{}],constant:[function(t,e,n){"use strict";cc._RF.push(e,"8aab0eXUklFPLoBQZet+iyK","constant"),Object.defineProperty(n,"__esModule",{value:!0}),n.Language=cc.Enum({Chinese:0,English:1}),n.I18N={0:"zh",1:"en"},n.Dir=cc.Enum({Up:0,Down:1,Left:2,Right:3,None:4}),function(t){t.Player="player_container",t.UI="ui_container",t.Map="map_container",t.Camera="camera_container"}(n.RootContainer||(n.RootContainer={})),function(t){t.Ground="ground",t.Player="player",t.Build="build",t.NPC="npc",t.Prop="prop",t.Bullet="bullet",t.UI="ui",t.Bound="bound",t.TopBound="topBound",t.Node="node",t.OutScreen="outScreen",t.PlayerEater="playerEater"}(n.ColliderGroup||(n.ColliderGroup={})),function(t){t.Sprite="sprite",t.Prefab="prefab",t.PrefabProp="prefab/prop",t.PrefabBullet="prefab/bullet",t.PrefabWeapon="prefab/weapon",t.PrefabUI="prefab/ui",t.PrefabChar="prefab/char",t.PrefabGame="prefab/game",t.PrefabBg="prefab/scene-bg",t.PrefabEffect="prefab/effect",t.PrefabScene="prefab/scene",t.AtlasProp="sprite/prop",t.Audio="audio",t.Video="video",t.Map="map",t.UISprite="sprite/ui",t.PropSprite="sprite/prop",t.SpriteAtlas="atlas"}(n.ResType||(n.ResType={})),n.Scene={None:"none",Number:"number"},n.UIPanel={None:"None",Mask:"Mask",MainPanel:"MainPanel",OverPanel:"OverPanel",WordPanel:"WordPanel"},n.UILayer=cc.Enum({MAIN:0,ALERT:1,FLOAT:2,TOP:3}),n.PropertyType=cc.Enum({Node:1,Sprite:2,Label:3,ProgressBar:4,RichText:5,PageView:6,Button:7,ScrollView:8,MyPageView:9}),n.EventType=cc.Enum({Button:1,Toggle:2}),n.Effects={SkillBoom01:"eSkillBoom01",SkillBoom02:"eSkillBoom02",Upgrade:"eUpgrade",Boom1:"eBoom1",PlayerHit:"ePlayerHit",Warning:"eWarning",WaringScreen:"eWaringScreen"},function(t){t.atkflash=cc.color(255,120,120)}(n.COLOR||(n.COLOR={})),n.GameAudio={Combo00:"Combo00",Combo01:"Combo01",Combo02:"Combo02",Combo03:"Combo03",Combo04:"Combo04",Combo05:"Combo05",addcoin:"addcoin",bgmusic:"bgmusic",click:"click",closebtn:"closebtn",openbtn:"openbtn",over:"over"},function(t){t[t.default=0]="default",t[t.loading=1]="loading",t[t.loaded=2]="loaded"}(n.LoadState||(n.LoadState={})),function(t){t[t.Number=1]="Number",t[t.Challenge=2]="Challenge",t[t.Evolution=3]="Evolution"}(n.GameMode||(n.GameMode={})),n.Plateform=cc.Enum({Web:0,Wechat:1}),function(t){t.DropProp="prop01"}(n.Prefabs||(n.Prefabs={})),function(t){t[t.Number=0]="Number",t[t.Image=1]="Image"}(n.TileType||(n.TileType={})),n.Colors={startBg:new cc.Color(89,69,61,255),overBg:new cc.Color(89,69,61,255),gameBg:new cc.Color(89,69,61,255),topBg:new cc.Color(166,137,124,255),tileBg:new cc.Color(166,137,124,255),powerBarBg:new cc.Color(166,137,124,255),power:new cc.Color(100,107,48,255),num1:new cc.Color(250,250,250,255),num2:new cc.Color(148,255,148,255),num3:new cc.Color(115,249,255,255),num4:new cc.Color(253,161,250,255),num5:new cc.Color(255,177,158,255),num6:new cc.Color(180,180,180,255),num7:new cc.Color(175,216,112,255),num8:new cc.Color(123,177,236,255),num9:new cc.Color(158,139,255,255),num10:new cc.Color(243,192,144,255),num11:new cc.Color(202,164,154,255),num12:new cc.Color(165,216,193,255),num13:new cc.Color(161,188,218,255),num14:new cc.Color(192,166,211,255),num15:new cc.Color(213,186,171,255),num16:new cc.Color(173,164,149,255),num17:new cc.Color(208,233,155,255),num18:new cc.Color(176,217,240,255),num19:new cc.Color(196,176,240,255),num20:new cc.Color(255,213,124,255),nums:new cc.Color(255,164,80,255)},n.shareSlogan={1:{title:"\u667a\u5546\u539f\u6765\u53ef\u4ee5\u78be\u538b\uff0c\u9a6c\u4e0a\u770b\u770b",url:"https://mmocgame.qpic.cn/wechatgame/3q5KsVuWe33zoqelXOJibFsdI1Ria727Kr5YgY9eibVmicXYXkStiaHH6kWY9qHDMD8gx/0"},2:{title:"\u6570\u5b57\u4e5f\u80fd\u70e7\u8111\uff1f",url:"https://mmocgame.qpic.cn/wechatgame/3q5KsVuWe330adiacVdSA6jpQy17rJ69kNcTAecUicvY9KRySj52dMcicfSFiaIEvrpv/0"}},cc._RF.pop()},{}],"data-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"303a0m9CLxOR4UrOmMLBjmC","data-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass;o.property;n.DATA={};var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onEnable=function(){for(var t in n.DATA)n.DATA[t].register&&n.DATA[t].register()},e.prototype.onDisable=function(){for(var t in n.DATA)n.DATA[t].unRegister&&n.DATA[t].unRegister()},e=__decorate([i],e)}(cc.Component);n.default=r,cc._RF.pop()},{}],"drt-includes":[function(t,e,n){"use strict";cc._RF.push(e,"13253ExyCVBXpAkh68CBA0s","drt-includes"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./drt-inverter");n.DecoratorInverter=o.default;var i=t("./drt-limiter");n.DecoratorLimiter=i.default;var r=t("./drt-max-time");n.DecoratorMaxTime=r.default;var a=t("./drt-repeat-until-failure");n.DecoratorRepeatUntilFailure=a.default;var c=t("./drt-repeat-until-success");n.DecoratorRepeatUntilSuccess=c.default;var s=t("./drt-repeater");n.DecoratorRepeater=s.default,cc._RF.pop()},{"./drt-inverter":"drt-inverter","./drt-limiter":"drt-limiter","./drt-max-time":"drt-max-time","./drt-repeat-until-failure":"drt-repeat-until-failure","./drt-repeat-until-success":"drt-repeat-until-success","./drt-repeater":"drt-repeater"}],"drt-inverter":[function(t,e,n){"use strict";cc._RF.push(e,"1dfb9vIlBBAkY6fTRwgeWAW","drt-inverter"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-decorator"),i=t("../../constants"),r=function(t){function e(e){var n=(void 0===e?{}:e).child,o=void 0===n?null:n;return t.call(this,{child:o,name:"Inverter"})||this}return __extends(e,t),e.prototype.tick=function(t){if(!this.child)return i.NodeState.Error;var e=this.child._execute(t);return e==i.NodeState.Success?e=i.NodeState.Failure:e==i.NodeState.Failure&&(e=i.NodeState.Success),e},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-decorator":"bt-decorator"}],"drt-limiter":[function(t,e,n){"use strict";cc._RF.push(e,"e09e1pjL1BP36iiWh72kSvJ","drt-limiter"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-decorator"),i=t("../../constants"),r=function(t){function e(e){var n=void 0===e?{}:e,o=n.child,i=void 0===o?null:o,r=n.maxLoop,a=void 0===r?0:r,c=t.call(this,{child:i,name:"Limiter",title:"Limit <maxLoop> Activations",properties:{maxLoop:a}})||this;if(!a)throw"maxLoop parameter in Limiter decorator is an obligatory parameter";return c.maxLoop=a,c}return __extends(e,t),e.prototype.open=function(t){t.blackboard.set("i",0,t.tree.id,this.id)},e.prototype.tick=function(t){if(!this.child)return i.NodeState.Error;var e=t.blackboard.get("i",t.tree.id,this.id);if(e<this.maxLoop){var n=this.child._execute(t);return n!=i.NodeState.Success&&n!=i.NodeState.Failure||t.blackboard.set("i",e+1,t.tree.id,this.id),n}return i.NodeState.Failure},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-decorator":"bt-decorator"}],"drt-max-time":[function(t,e,n){"use strict";cc._RF.push(e,"7ff7exkTvJFgbTy9hj+7UgY","drt-max-time"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-decorator"),i=t("../../constants"),r=function(t){function e(e){var n=void 0===e?{}:e,o=n.maxTime,i=void 0===o?0:o,r=n.child,a=void 0===r?null:r,c=t.call(this,{child:a,name:"MaxTime",title:"Max <maxTime>ms",properties:{maxTime:i}})||this;if(!i)throw"maxTime parameter in MaxTime decorator is an obligatory parameter";return c.maxTime=i,c}return __extends(e,t),e.prototype.open=function(t){var e=(new Date).getTime();t.blackboard.set("startTime",e,t.tree.id,this.id)},e.prototype.tick=function(t){if(!this.child)return i.NodeState.Error;var e=(new Date).getTime(),n=t.blackboard.get("startTime",t.tree.id,this.id),o=this.child._execute(t);return e-n>this.maxTime?i.NodeState.Failure:o},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-decorator":"bt-decorator"}],"drt-repeat-until-failure":[function(t,e,n){"use strict";cc._RF.push(e,"6d37ab90TRNlIqKcNWYJq/2","drt-repeat-until-failure"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-decorator"),i=t("../../constants"),r=function(t){function e(e){var n=void 0===e?{}:e,o=n.maxLoop,i=void 0===o?-1:o,r=n.child,a=void 0===r?null:r,c=t.call(this,{child:a,name:"RepeatUntilFailure",title:"Repeat Until Failure",properties:{maxLoop:i}})||this;return c.maxLoop=i,c}return __extends(e,t),e.prototype.open=function(t){t.blackboard.set("i",0,t.tree.id,this.id)},e.prototype.tick=function(t){if(!this.child)return i.NodeState.Error;for(var e=t.blackboard.get("i",t.tree.id,this.id),n=i.NodeState.Error;(this.maxLoop<0||e<this.maxLoop)&&(n=this.child._execute(t))==i.NodeState.Success;)e++;return e=t.blackboard.set("i",e,t.tree.id,this.id),n},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-decorator":"bt-decorator"}],"drt-repeat-until-success":[function(t,e,n){"use strict";cc._RF.push(e,"069d0Ro3qRDWbZedPrg6rW/","drt-repeat-until-success"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-decorator"),i=t("../../constants"),r=function(t){function e(e){var n=void 0===e?{}:e,o=n.maxLoop,i=void 0===o?-1:o,r=n.child,a=void 0===r?null:r,c=t.call(this,{child:a,name:"RepeatUntilSuccess",title:"Repeat Until Success",properties:{maxLoop:i}})||this;return c.maxLoop=i,c}return __extends(e,t),e.prototype.open=function(t){t.blackboard.set("i",0,t.tree.id,this.id)},e.prototype.tick=function(t){if(!this.child)return i.NodeState.Error;for(var e=t.blackboard.get("i",t.tree.id,this.id),n=i.NodeState.Error;(this.maxLoop<0||e<this.maxLoop)&&(n=this.child._execute(t))===i.NodeState.Failure;)e++;return t.blackboard.set("i",e,t.tree.id,this.id),n},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-decorator":"bt-decorator"}],"drt-repeater":[function(t,e,n){"use strict";cc._RF.push(e,"0cf9c6ltJNKWLtYlcTYr3Rr","drt-repeater"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-decorator"),i=t("../../constants"),r=function(t){function e(e){var n=void 0===e?{}:e,o=n.maxLoop,i=void 0===o?-1:o,r=n.child,a=void 0===r?null:r,c=t.call(this,{child:a,name:"Repeater",title:"Repeat <maxLoop>x",properties:{maxLoop:i}})||this;return c.maxLoop=i,c}return __extends(e,t),e.prototype.open=function(t){t.blackboard.set("i",0,t.tree.id,this.id)},e.prototype.tick=function(t){if(!this.child)return i.NodeState.Error;for(var e=t.blackboard.get("i",t.tree.id,this.id),n=i.NodeState.Success;(this.maxLoop<0||e<this.maxLoop)&&((n=this.child._execute(t))==i.NodeState.Success||n==i.NodeState.Failure);)e++;return t.blackboard.set("i",e,t.tree.id,this.id),n},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-decorator":"bt-decorator"}],"engine-extension":[function(t,e,n){"use strict";cc._RF.push(e,"8981aI1melE94RO3kLUNS2K","engine-extension"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.hookNodeBeforeDestroy=function(t,e){var n=t._onPreDestroy.bind(t);t._onPreDestroy=function(){e(),n()}},t.unHookBeforeDestroy=function(t){var e=cc.js.getClassByName(cc.js.getClassName(t));t._onPreDestroy=e.prototype._onPreDestroy}}(n.EngineExtension||(n.EngineExtension={})),cc._RF.pop()},{}],en:[function(t,e,n){"use strict";cc._RF.push(e,"59625/ul95LxZw8Z8P254ch","en"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.en={main_panel:"Menu",total_score:"Total Score\uff1a{0}",mul_clear_mode6:"Level\uff1a{0}",mul_clear_mode1:"maxFiveLevel\uff1a{0}",mul_clear_mode2:"addLevel\uff1a{0}",mul_clear_mode3:"counetFiveLevel\uff1a{0}",mul_clear_mode4:"moreClearLevel\uff1a{0}",mul_clear_mode5:"numberLevel\uff1a{0}",game_over:"Game Over",game_title:"Braintaking Numbers",com_share:"Share",com_video:"Video",com_score:"Score",com_steps:"Steps",com_play:"Play Game",m_rank:"Ranking",m_collections:"Collections",m_awards:"Free Awards",m_revival:"Free Revival",collections_rank:"Collections Ranking",rk_type:"Types",rk_quantities:"Quantities",rk_score_awards:"Score Awards",rk_score_rank:"Score Ranking",rk_rankings:"Rankings",rk_name:"Name",rk_head:"Head",over_current_performance:"Current Performance",over_history_bests:"History Bests \uff1a{0}",over_collections_quantity:"Collections Quantity \uff1a{0}",over_collection_types:"Collection Types \uff1a{0}",m_tips:"Please Click a Value to Match the Adjacent Value",in_word:"In Word",main_word:"Walker Word",try_again:"Try Again",m_tgTips:"Target Score\uff1a{0}",m_tips2:"Awards Step\uff1a{0}"},cc._RF.pop()},{}],"event-listener":[function(t,e,n){"use strict";cc._RF.push(e,"ecbc9bHVVZN15YD/M3f42HZ","event-listener"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../util/utils"),i=t("../../data/constant"),r=t("../databind/property-contex"),a=cc._decorator,c=a.ccclass,s=a.property,l=a.requireComponent,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.eventType=i.EventType.Button,e.callback="",e.arg="",e._ctx=null,e}return __extends(e,t),e.prototype.start=function(){this.init()},e.prototype.init=function(){this._ctx=o.Util.getComponentInParent(this.node,r.default),this.addComponentEvent()},e.prototype.bindEvent=function(t,e,n){this._ctx||(this._ctx=o.Util.getComponentInParent(this.node,r.default)),this.eventType=t,this.callback=e,this.arg=n;var a=new cc.Component.EventHandler;switch(a.target=this._ctx.node,a.component=this._ctx.__proto__.__classname__,a.customEventData=this.arg,a.handler=this.callback,this.eventType){case i.EventType.Button:var c=this.node.getComponent(cc.Button);c.clickEvents.splice(0),c.clickEvents.push(a);break;case i.EventType.Toggle:var s=this.node.getComponent(cc.Toggle);s.checkEvents.splice(0),s.checkEvents.push(a)}},e.prototype.addComponentEvent=function(){this.callback&&this._ctx&&this.bindEvent(this.eventType,this.callback,this.arg)},__decorate([s({type:i.EventType})],e.prototype,"eventType",void 0),__decorate([s],e.prototype,"callback",void 0),__decorate([s],e.prototype,"arg",void 0),e=__decorate([c,l(cc.Button)],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../data/constant":"constant","../databind/property-contex":"property-contex","../util/utils":"utils"}],"event-list":[function(t,e,n){"use strict";cc._RF.push(e,"ccd48pJoa5Mu68yZaUK82HA","event-list"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.OnJoystick="OnJoystick",t.OnVirtualKeyDown="OnVirtualKeyDown"}(n.VirtualKeyEvent||(n.VirtualKeyEvent={})),n.VirtualKey={Jump:"Jump",Attack:"Attack"},function(t){t.OnUpdateFightPanel="OnUpdateFightPanel"}(n.CustomUIEvent||(n.CustomUIEvent={})),function(t){t.OnCheckMapNums="OnCheckMapNums"}(n.GameEvent||(n.GameEvent={})),function(t){t.UPLOAD_MY_RANK="UPLOAD_MY_RANK",t.UPDATE_RANK="UPDATE_RANK",t.CLEAR_DATA="CLEAR_DATA"}(n.OpenDataEvent||(n.OpenDataEvent={})),cc._RF.pop()},{}],"event-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"aef5eyN8zJPT5bUGmceuZv/","event-mgr"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){var e={},n={},o={};function i(t,i,r){if(null!=n[t]&&n[t]>0)return cc.error("The event: "+t+" is triging..."),o[t]||(o[t]=[]),void o[t].push([i,r]);for(var a=e[t],c=-1,s=0,l=a.length;s<l;s++){var u=a[s],p=u[0],d=u[1];u[2];if(p===i&&d===r){c=s;break}}c>-1&&a.splice(c,1)}t.trigEvent=function(t){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var c=e[t];c&&0!==c.length?(n[t]||(n[t]=0),n[t]++,n[t]>1&&cc.error("The event: "+t+" was call nested... "),c.forEach(function(t){var e;(e=t[0]).call.apply(e,[t[1]].concat(t.slice(2),r))}),n[t]--,n[t]>0||o[t]&&(cc.log("start to unregEvent "+t+"..."),o[t].forEach(function(e){i(t,e[0],e[1])}),o[t].splice(0,o[t].length))):cc.log("There is no callback on event "+t)},t.regEvent=function(t,n,o){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];e[t]||(e[t]=[]),e[t].push([n,o].concat(i))},t.unregEvent=i}(n.EventMgr||(n.EventMgr={})),cc._RF.pop()},{}],"fight-data":[function(t,e,n){"use strict";cc._RF.push(e,"ce9a91QBRpH34VlkqJveZBI","fight-data"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./constant"),i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(){}return t.clear=function(){this.curStepNum=10,this.curScore=0,this.curBeatNum=0,this.curLevel=1,this.bonusNum=5},t.gameMode=o.GameMode.Number,t.curStepNum=10,t.curScore=0,t.curBeatNum=0,t.curLevel=1,t.bonusNum=5,t.bestScore=0,t.isGuide=!0,t.isOverTapRank=!1,t.collectionNum=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t.collectionType=0,t.tileMap=new Array,t=__decorate([r],t)}());n.default=a,cc._RF.pop()},{"./constant":"constant"}],"float-panel":[function(t,e,n){"use strict";cc._RF.push(e,"afe3934PHJFVo2I9qaeWOsB","float-panel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../comm/ui/base-panel"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.lbText=null,e._duration=.5,e._delay=2,e._msg=null,e._ing=!1,e}return __extends(e,t),e.prototype.init=function(){},e.prototype.initParams=function(t){this._duration=t.duration||.5,this._delay=t.delay||2,this._msg=t.msg||""},e.prototype.floatTips=function(t){if(this.lbText.string=t,this.node.opacity=255,this._ing)return this.node.stopAllActions(),this.anim.node.width=0,this.anim.node.height=0,this.anim.off(cc.Animation.EventType.FINISHED,this.afterAnimation,this),this.anim.once(cc.Animation.EventType.FINISHED,this.afterAnimation,this),this.anim.play(),void(this._ing=!0);this.anim.node.width=0,this.anim.node.height=0,this.anim.once(cc.Animation.EventType.FINISHED,this.afterAnimation,this),this.anim.play(),this._ing=!0},e.prototype.afterAnimation=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(this._duration),cc.fadeOut(.8),cc.callFunc(function(){t._ing=!1})))},e.prototype.onRefreshUI=function(){this.floatTips(this._msg)},__decorate([a(cc.Animation)],e.prototype,"anim",void 0),__decorate([a(cc.Label)],e.prototype,"lbText",void 0),e=__decorate([r],e)}(o.default);n.default=c,cc._RF.pop()},{"../../comm/ui/base-panel":"base-panel"}],"game-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"77cc6I0Ea9K25lkovpkKHC6","game-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./audio-mgr"),i=t("./ui-mgr"),r=t("../../data/constant"),a=t("./scene-mgr"),c=t("./data-mgr"),s=t("./atlas-mgr"),l=t("./timer-mgr"),u=t("../../../../packages/i18n/runtime-scripts/LanguageData"),p=cc._decorator,d=p.ccclass,h=p.property,f=cc.Enum({None:0,Small:1,Verbose:2}),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.language=r.Language.English,e.drawLine=!1,e.isShowFPS=!1,e.rpcLogLevel=f.None,e.plateForm=r.Plateform.Web,e.isHeartBeat=!0,e.uiRoot=null,e.poolRoot=null,e.audioMgr=null,e.uiMgr=null,e.sceneMgr=null,e.netMgr=null,e.dataMgr=null,e.atlasMgr=null,e.timerMgr=null,e.lbPos=cc.Vec2.ZERO,e.isOver=!1,e.isPause=!1,e.code="",e.userName="",e.wxUserInfo=null,e._emptyMask=null,e.loadState=r.LoadState.loading,e}var n;return __extends(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){n._instance=this},e.prototype.start=function(){this.setDebugOptions(),this.init(),this.startGame()},e.prototype.init=function(){u.init(r.I18N[this.language]),this.uiRoot=cc.find("UIRoot").getComponent(cc.Canvas),this.poolRoot=new cc.Node("poolRoot"),this.poolRoot.parent=this.uiRoot.node.parent,this.lbPos.x=.5*-this.uiRoot.node.width,this.lbPos.y=.5*-this.uiRoot.node.height,this._emptyMask=cc.find("EmptyMask"),this.audioMgr=this.node.addComponent(o.default),this.audioMgr.init(),this.atlasMgr=this.node.addComponent(s.AtlasMgr),this.atlasMgr.init(),this.uiMgr=this.node.addComponent(i.default),this.uiMgr.init(),this.sceneMgr=this.node.addComponent(a.SceneMgr),this.sceneMgr.init(),this.dataMgr=this.node.addComponent(c.default),this.timerMgr=this.node.addComponent(l.default)},e.prototype.unRegisterFuncOpen=function(){this.netMgr.unBindRpc("rpc_client_open_share")},e.prototype.onEnable=function(){cc.systemEvent.on(cc.game.EVENT_HIDE,this.onHide,this),cc.systemEvent.on(cc.game.EVENT_SHOW,this.onShow,this)},e.prototype.onDisable=function(){cc.systemEvent.off(cc.game.EVENT_HIDE,this.onHide,this),cc.systemEvent.off(cc.game.EVENT_SHOW,this.onShow,this),this.unRegisterFuncOpen()},e.prototype.update=function(t){switch(this.loadState){case r.LoadState.loading:this.audioMgr.loadedNum>=this.audioMgr.audioResNum()&&(this.loadState=r.LoadState.loaded);break;case r.LoadState.loaded:this.loadState=r.LoadState.default}},e.prototype.pause=function(){this.isPause=!0},e.prototype.resume=function(){this.isPause=!1},e.prototype.enableInput=function(t){this._emptyMask.active=!t},e.prototype.loadScene=function(t,e,n){this.sceneMgr.loadScene(t,e)},e.prototype.setDebugOptions=function(){cc.debug.setDisplayStats(this.isShowFPS)},e.prototype.setPyhsicsEnable=function(t){cc.director.getCollisionManager().enabled=t,cc.director.getPhysicsManager().enabled=t},e.prototype.startGame=function(){this.uiMgr.openPanel(r.UIPanel.WordPanel)},e.prototype.onHide=function(){},e.prototype.onShow=function(){},e._instance=null,__decorate([h({type:r.Language})],e.prototype,"language",void 0),__decorate([h(cc.Boolean)],e.prototype,"drawLine",void 0),__decorate([h(cc.Boolean)],e.prototype,"isShowFPS",void 0),__decorate([h({type:f})],e.prototype,"rpcLogLevel",void 0),__decorate([h({type:r.Plateform})],e.prototype,"plateForm",void 0),__decorate([h(cc.Boolean)],e.prototype,"isHeartBeat",void 0),e=n=__decorate([d],e)}(cc.Component);n.default=m,cc._RF.pop()},{"../../../../packages/i18n/runtime-scripts/LanguageData":"LanguageData","../../data/constant":"constant","./atlas-mgr":"atlas-mgr","./audio-mgr":"audio-mgr","./data-mgr":"data-mgr","./scene-mgr":"scene-mgr","./timer-mgr":"timer-mgr","./ui-mgr":"ui-mgr"}],"game-number":[function(t,e,n){"use strict";cc._RF.push(e,"30688oP37hEl4EhJFvcjHQO","game-number"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../comm/databind/property-contex"),i=t("../../comm/mgr/game-mgr"),r=t("../../data/constant"),a=t("../../data/fight-data"),c=t("../../comm/util/utils"),s=t("../../comm/mgr/pool-mgr"),l=t("./tile"),u=t("../../data/event-list"),p=t("../../comm/struct/comm-struct"),d=t("./tileMapIcn"),h=cc._decorator,f=h.ccclass,m=h.property,g=5,_=2,y=130;function v(t,e){return cc.v2(t*(y+_)+.5*y,e*(y+_)+.5*y)}function b(t,e){return cc.v2(Math.floor(t/(y+_)),Math.floor(e/(y+_)))}function C(t,e){return Math.round(e*g+t)}function S(t){var e=b(t.node.position.x,t.node.position.y);return new R(e.x,e.y,t.data)}var R=function(){return function(t,e,n){this.pos=cc.Vec2.ZERO,this.shapeNum=0,this.pos.x=t,this.pos.y=e,this.shapeNum=n}}();n.ShapeItem=R;var P=function(){function t(){this.itemList=new Array}return t.fromTileArray=function(e){for(var n=new t,o=0;o<e.length;++o)n.itemList.push(S(e[o]));return n},t.prototype.sortShapeItem=function(){this.itemList=this.itemList.sort(function(t,e){return Math.abs(t.pos.y-e.pos.y)>1e-4?t.pos.y-e.pos.y:t.pos.x-e.pos.x})},t.prototype.calcShapeID=function(){for(var t=this,e=t.serializeShapeList(),n=1;n<4;++n){var o=(t=this.rotate(90*n)).serializeShapeList();o<e&&(e=o)}return e},t.prototype.serializeShapeList=function(){this.sortShapeItem();for(var t=this.normalize(),e="",n=0;n<t.itemList.length;++n)e+=C(t.itemList[n].pos.x,t.itemList[n].pos.y).toString();return e},t.prototype.normalize=function(){for(var e=new t,n=5,o=5,i=0;i<this.itemList.length;++i)this.itemList[i].pos.x<n&&(n=this.itemList[i].pos.x),this.itemList[i].pos.y<o&&(o=this.itemList[i].pos.y);for(i=0;i<this.itemList.length;++i)e.itemList.push(new R(this.itemList[i].pos.x-n,this.itemList[i].pos.y-o,this.itemList[i].shapeNum));return e},t.prototype.print=function(){for(var t=0;t<this.itemList.length;++t)"("+this.itemList[t].pos.x+", "+this.itemList[t].pos.y+") "},t.prototype.rotate=function(e){var n=Math.cos(cc.misc.degreesToRadians(e)),o=Math.sin(cc.misc.degreesToRadians(e)),i=new t,r=c.Util.range2D(3,3,function(){return 0});r[0][2]=-2*n+2*o+2,r[1][2]=-2*o-2*n+2,r[0][0]=n,r[1][0]=o,r[0][1]=-o,r[1][1]=n;for(var a=0;a<this.itemList.length;++a){var s=this.itemList[a].pos,l=new cc.Vec2;l.x=r[0][0]*s.x+r[0][1]*s.y+r[0][2],l.y=r[1][0]*s.x+r[1][1]*s.y+r[1][2],i.itemList.push(new R(l.x,l.y,this.itemList[a].shapeNum))}return i},t.prototype.compare=function(t){return this.itemList.length==t.itemList.length&&this.calcShapeID()==t.calcShapeID()},t.prototype.getShapeID=function(){return this.calcShapeID()},t}();n.Shape=P;var T=function(){function t(){this.num=-1,this.tile=null}return t.prototype.addOne=function(){this.num++,this.tile.addOne()},t.prototype.die=function(){this.num=-1,this.tile.die()},t.prototype.setEmpty=function(){this.num=-1,this.tile=null},t}();n.MapItem=T;var k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noTileRoot=null,e.MapIcnRoot=null,e.MapIcnPre=null,e.weightArr=[5,4,3,2,1],e.numArr=[1,2,3,4,5],e.lbScore=null,e.lbStepNum=null,e.lbMode=null,e.lbTips=null,e.lbTgTips=null,e.addScore=0,e.collectionNums=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],e.collectionTag=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],e.mapIcnPres=[],e.getMapIcn=[],e.collectionMax=0,e.targetNums=[],e.collectionNumber=0,e.gameModels=0,e.targetScore=0,e.colNumsTotal=0,e.bonusStep=0,e.floatTipes=null,e.tipsLabel=null,e.lbTipsFloat=null,e.guide=null,e.lbTips01=null,e.DIR=[[-1,0],[0,1],[1,0],[0,-1]],e.totalCount=g*g,e.isTouching=!1,e.isCanTouch=!0,e.shapeDic=new Map,e}return __extends(e,t),e.prototype.onBackMain=function(){i.default.instance.audioMgr.pauseBg(),i.default.instance.sceneMgr.unLoadScene(r.Scene.Number),i.default.instance.uiMgr.openPanel(r.UIPanel.MainPanel)},e.prototype.closeGuide=function(){this.guide.active=!1,a.default.isGuide=!1},e.prototype.closeFloatTipes=function(){this.floatTipes.active=!1},e.prototype.start=function(){i.default.instance.audioMgr.playBg(r.GameAudio.bgmusic),this.refreshUI(),this.startGame()},e.prototype.onEnable=function(){c.Util.on(u.GameEvent.OnCheckMapNums,this.checkMapStates,this),this.noTileRoot.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.noTileRoot.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.onDisable=function(){c.Util.off(u.GameEvent.OnCheckMapNums,this.checkMapStates,this),this.noTileRoot.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.noTileRoot.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},e.prototype.onTouchStart=function(t){if(!this.isTouching&&this.isCanTouch){this.isTouching=!0;var e=this.noTileRoot.convertToNodeSpaceAR(t.getLocation()),n=b(e.x,e.y);a.default.tileMap[n.y][n.x].addOne(),a.default.tileMap[n.y][n.x].tile.animScale(),i.default.instance.audioMgr.play(r.GameAudio.click),a.default.curStepNum--,this.refreshUI(),c.Util.emitEvent(u.GameEvent.OnCheckMapNums,a.default.tileMap[n.y][n.x].tile)}},e.prototype.onTouchEnd=function(t){this.isTouching=!1},e.prototype.startGame=function(){var t=this;s.default.instance.createPool("tile",r.ResType.PrefabGame,null,function(){t.generateMap()},g*g),a.default.clear(),this.tileMapIcn(),this.floatTipes.active=!1,a.default.gameMode==r.GameMode.Number?this.lbTips01.string="\u6536\u96c6\u63d0\u793a\u2014\u2014":this.lbTips01.string="\u8fc7\u5173\u76ee\u6807\u2014\u2014",0==a.default.isGuide?this.guide.active=!1:this.guide.active=!0},e.prototype.generateMap=function(){var t,e,n,o=0;this.weightArr=[5,4,3,2,1],this.numArr=[1,2,3,4,5],a.default.tileMap=c.Util.range2D(g,g,function(){return new T});for(var i={};o<this.totalCount;){for(;;){if(!(i[t=c.Util.getRndByWightArr(this.weightArr,this.numArr)]>12))if(e=Math.floor(o/g),n=o%g,this.isCanPutAt(t,e,n))break}a.default.tileMap[e][n].num=t,i[t]=i[t]||0,i[t]++,o++}for(var u=0;u<g;++u)for(var p=0;p<g;++p){var d=s.default.instance.get("tile",r.ResType.PrefabGame).getComponent(l.default);d.init(r.TileType.Number,a.default.tileMap[u][p].num,this.noTileRoot,v(p,u)),a.default.tileMap[u][p].tile=d}},e.prototype.printMap=function(){},e.prototype.printMap2=function(){for(var t=0;t<a.default.tileMap.length;++t)for(var e=0;e<a.default.tileMap[t].length;++e)a.default.tileMap[t][e].tile.node.opacity+", ",a.default.tileMap[t][e].tile.node.opacity=255},e.prototype.tileMapIcn=function(){this.lbTgTips.node.active=!1;for(var t=0;t<5;++t){var e=cc.instantiate(this.MapIcnPre);e.parent=this.MapIcnRoot,this.mapIcnPres.push(e),this.mapIcnPres[t].active=!1}for(t=0;t<20;t++)this.colNumsTotal+=a.default.collectionNum[t];if(a.default.gameMode==r.GameMode.Challenge){var n=c.Util.randomInt(1,4);this.initchallenge(n)}else this.gameModels=5,this.refreshUI()},e.prototype.getTileAroundNums=function(t,e,n){var o=0;a.default.tileMap[t][e].num==n&&o++;for(var i=0;i<this.DIR.length;++i){var r=t+this.DIR[i][0],c=e+this.DIR[i][1];if(r>=0&&r<g&&c>=0&&c<g)a.default.tileMap[r][c].num==n&&o++}return o},e.prototype.isCanPutAt=function(t,e,n){if(this.getTileAroundNums(e,n,t)>=2)return!1;for(var o=0;o<this.DIR.length;++o){var i=e+this.DIR[o][0],r=n+this.DIR[o][1];if(i>=0&&i<g&&r>=0&&r<g){if(-1==a.default.tileMap[i][r].num)continue;if(this.getTileAroundNums(i,r,t)>=2)return!1}}return!0},e.prototype.checkMapStates=function(t){var e=this;this.isCanTouch=!1;var n=b(t.node.x,t.node.y),o=[],i=new p.Queue,s=c.Util.range2D(g,g,function(){return!1});for(i.enQueue(t),s[n.y][n.x]=!0;i.size()>0;){var l=i.deQueue();o.push(l),n=b(l.node.x,l.node.y);for(var d=0;d<this.DIR.length;++d){var h=n.y+this.DIR[d][0],f=n.x+this.DIR[d][1];h>=0&&h<g&&f>=0&&f<g&&0==s[h][f]&&a.default.tileMap[h][f].tile.data==t.data&&(s[h][f]=!0,i.enQueue(a.default.tileMap[h][f].tile))}}var m=null;if(o.length>=3){a.default.curBeatNum++,this.doScoreLogic(t,o);for(d=0;d<o.length;++d){n=b(o[d].node.x,o[d].node.y);var _=a.default.tileMap[n.y][n.x];_&&(t!=o[d]?_.die():(_.tile.animBlink(),m=_))}this.node.runAction(cc.sequence(cc.delayTime(.3),cc.callFunc(function(){m.addOne(),t.addScoreLevel()}),cc.delayTime(.05),cc.callFunc(function(){for(var t=0;t<g;++t){for(var e=0,n=0;e<g&&-1!=a.default.tileMap[e][t].num;)e++;for(;e<g&&-1==a.default.tileMap[e][t].num;)e++,n++;for(;e<g;){var o=a.default.tileMap[e-n][t];a.default.tileMap[e-n][t]=a.default.tileMap[e][t],a.default.tileMap[e][t]=o,a.default.tileMap[e-n][t].tile.moveTo(v(t,e-n)),e++}}}),cc.delayTime(.15),cc.callFunc(function(){e.fillEmptyCell();var n=e.scanAllMap();n?c.Util.emitEvent(u.GameEvent.OnCheckMapNums,n):(e.isCanTouch=!0,a.default.gameMode==r.GameMode.Number?a.default.curBeatNum>2&&(a.default.curStepNum+=a.default.curBeatNum-1,e.bonusStep=a.default.curBeatNum-1):e.rfChangeMode(t.data,o.length),e.refreshUI(),a.default.curBeatNum=0,e.bonusStep=0,e.checkIsOver(),e.printMap2())})))}else this.isCanTouch=!0,this.checkIsOver()},e.prototype.checkIsOver=function(){a.default.curStepNum<=0&&(a.default.curScore>=a.default.bestScore&&(a.default.bestScore=a.default.curScore),i.default.instance.audioMgr.pauseBg(),i.default.instance.audioMgr.play(r.GameAudio.over),i.default.instance.uiMgr.openPanel(r.UIPanel.OverPanel),i.default.instance.sceneMgr.unLoadScene(r.Scene.Number))},e.prototype.refreshUI=function(){var t="mul_clear_mode"+(this.gameModels+1);this.lbScore.string=a.default.curScore.toString(),this.lbStepNum.string=a.default.curStepNum.toString(),this.lbMode.string=c.Util.language(t,a.default.curLevel);var e="",n="",o="";0==i.default.instance.language&&(e="\u8fde\u51fb ",n=" \u5956\u52b1\u6b65\u6570 ",o=" \u5f97\u5206 "),1==i.default.instance.language&&(e="Count ",n=" Step Awards ",o=" Score "),this.bonusStep>0?this.lbTips.string=e+a.default.curBeatNum+n+this.bonusStep+o+this.addScore:this.lbTips.string=e+a.default.curBeatNum+o+this.addScore,a.default.curStepNum<5?this.lbStepNum.node.color=new cc.Color(255,5,5,255):this.lbStepNum.node.color=new cc.Color(255,202,124,255)},e.prototype.doScoreLogic=function(t,e){var n="Combo0"+cc.misc.clampf(a.default.curBeatNum-1,0,5);i.default.instance.audioMgr.play(r.GameAudio[n]);var o=(e.length-2)*a.default.curBeatNum;t.level+=o;for(var c=0,s=0;s<e.length-1;s++)c+=e[s].data*e[s].level+a.default.curLevel;var l=Math.floor(c*(a.default.collectionNum[t.data-1]/100));this.addScore=c+l,a.default.curScore+=c+l,a.default.gameMode==r.GameMode.Number?this.collectionNum(t,e.length):a.default.gameMode==r.GameMode.Challenge&&5==this.gameModels&&this.challengeMode(t,e.length,this.collectionMax),this.refreshUI()},e.prototype.fillEmptyCell=function(){for(var t=0;t<g;++t)for(var e=0;e<g;++e)if(-1==a.default.tileMap[t][e].num){var n=s.default.instance.get("tile",r.ResType.PrefabGame).getComponent("tile"),o=c.Util.getRndByWightArr(this.weightArr,this.numArr);n.init(r.TileType.Number,o,this.noTileRoot,v(e,t)),a.default.tileMap[t][e].tile=n,a.default.tileMap[t][e].num=o}},e.prototype.scanAllMap=function(){for(var t=null,e=0;e<g;++e)for(var n=0;n<g;++n)if(this.getTileAroundNums(e,n,a.default.tileMap[e][n].num)>=3){t=a.default.tileMap[e][n].tile;break}return t},e.prototype.collectionShape=function(t){var e=P.fromTileArray(t),n=!0;for(var o in this.shapeDic)if(this.shapeDic[o].compare(e)){n=!1,this.shapeDic[o].print(),e.print();break}if(n){o=e.calcShapeID();e.print(),this.shapeDic[o]=e}},e.prototype.collectionNum=function(t,e){for(var n=0,o=0;o<e;++o)n=t.data-1,this.collectionNums[n]++;this.collectionMax<4?this.collectionMax++:this.collectionMax=0,0==this.mapIcnPres[this.collectionMax].active&&(this.mapIcnPres[this.collectionMax].active=!0);var i=this.mapIcnPres[this.collectionMax].getComponent(d.default);i.lbNumber.string=t.data.toString(),i.lbCollectionTips.string=this.collectionNums[n]+"/"+this.collectionTag[n],this.collectionNums[n]>=this.collectionTag[n]&&(this.collectionNums[n]-=this.collectionTag[n],this.collectionTag[n]=20-t.data+e+a.default.curBeatNum+a.default.curLevel,i.quantities<20&&(a.default.collectionNum[n]+=a.default.curLevel,i.addQuantities(a.default.curLevel),i.animBlink()),a.default.curScore>=Math.pow(a.default.curLevel,2)*(this.colNumsTotal+20*a.default.bonusNum)&&(a.default.curLevel++,a.default.bonusNum++,a.default.bonusNum>20?a.default.bonusNum=20:(this.weightArr.unshift(a.default.bonusNum),this.numArr.push(a.default.bonusNum))))},e.prototype.initchallenge=function(t){this.gameModels=5,this.lbTgTips.node.active=!1,a.default.curStepNum+=4+1*a.default.curLevel,this.refreshUI(),this.collectionMax=t,this.collectionNumber=t;for(var e=this.rdNum(a.default.bonusNum-1,t),n=0;n<t;++n){this.targetNums[n]=e[n],this.collectionTag[this.targetNums[n]]=c.Util.randomInt(3,3+a.default.curLevel),this.collectionNums[this.targetNums[n]]=0;var o=this.mapIcnPres[n].getComponent(d.default);o.node.active=!0,o.lbNumber.string=this.targetNums[n].toString(),o.lbCollectionTips.string=this.collectionNums[this.targetNums[n]]+"/"+this.collectionTag[this.targetNums[n]],o.updateUI=!0}},e.prototype.challengeMode=function(t,e,n){for(var o,i=0;i<n;++i)t.data==this.targetNums[i]&&(1==(o=this.mapIcnPres[i].getComponent(d.default)).updateUI&&(this.collectionNums[t.data]+=e,o.lbCollectionTips.string=this.collectionNums[t.data]+"/"+this.collectionTag[t.data]),this.collectionNums[t.data]>=this.collectionTag[t.data]&&(this.collectionNums[t.data]=0,o.animBlink(),o.updateUI=!1,o.hiddenIcn(),this.collectionNumber--,this.collectionNumber<=0&&this.levelAdd()))},e.prototype.levelAdd=function(){var t=this;a.default.curLevel++,a.default.bonusNum++;var e=c.Util.randomInt(1,4),n=c.Util.randomInt(0,4);this.lbMode.node.stopAllActions(),this.lbMode.node.runAction(cc.sequence(cc.scaleTo(.3,2),cc.scaleTo(.3,1),cc.blink(.5,3),cc.callFunc(function(){e<=2?(a.default.bonusNum>=20?a.default.bonusNum=20:(t.weightArr.unshift(a.default.bonusNum),t.numArr.push(a.default.bonusNum)),t.initchallenge(e),t.floatTipes.active=!0,t.tipsLabel.string=c.Util.language("m_tips2",4+1*a.default.curLevel),t.lbTipsFloat.string="\u6536\u96c6\u5173\u5361 \n \u6536\u96c6\u6307\u5b9a\u6570\u91cf\u7684\u6570\u5b57",t.floatTipes.stopAllActions(),t.floatTipes.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1),cc.delayTime(3),cc.callFunc(function(){t.floatTipes.active=!1})))):(t.initchangeMode(n),t.floatTipes.active=!0,t.tipsLabel.string=c.Util.language("m_tips2",4+a.default.curLevel),t.floatTipes.stopAllActions(),t.floatTipes.runAction(cc.sequence(cc.scaleTo(.2,1.2),cc.scaleTo(.2,1),cc.delayTime(3),cc.callFunc(function(){t.floatTipes.active=!1}))))})))},e.prototype.initchangeMode=function(t){this.targetScore=Math.pow(a.default.curLevel,2)*(this.colNumsTotal+20*a.default.bonusNum)+500,this.lbTgTips.node.active=!0,this.lbTgTips.string=c.Util.language("m_tgTips",this.targetScore),a.default.curStepNum+=4+a.default.curLevel,this.gameModels=t,this.lbMode.node.color=r.Colors["num"+(this.gameModels+1)],2==this.gameModels&&(this.weightArr=[5,4,3,2,1],this.numArr=[1,2,3,4,5])},e.prototype.rfChangeMode=function(t,e){switch(this.gameModels){case 0:a.default.curStepNum++,a.default.curBeatNum>1&&a.default.curStepNum<5&&(a.default.curBeatNum,this.bonusStep=a.default.curBeatNum-1),this.theBonusNumMax(t,2),this.lbTipsFloat.string="\u9650\u4e94\u5173\u5361 \n \u8d85\u8fc7\u4e94\u6b65\u4e0d\u518d\u83b7\u5f97\u5956\u52b1\u6b65\u6570\uff0c\u6709\u6d88\u9664\u65f6\u81ea\u52a8\u8fd4\u8fd8 1 \u6b65";break;case 1:a.default.curBeatNum>2&&(a.default.curStepNum+=a.default.curBeatNum-1,this.bonusStep=a.default.curBeatNum-1),this.theBonusNumMax(t,1),this.lbTipsFloat.string="\u9012\u589e\u5173\u5361 \n \u5408\u6210\u65b0\u6700\u5927\u6570\u5b57\u8d85\u8fc7\u5f53\u524d\u6700\u5927\u6570\u5b57\u65f6\u6700\u5927\u6389\u843d\u6570\u9012\u589e 1";break;case 2:a.default.curBeatNum>4&&(a.default.curStepNum+=a.default.curBeatNum-2,this.bonusStep=a.default.curBeatNum-2),a.default.bonusNum=5,this.theBonusNumMax(t,5),this.lbTipsFloat.string="\u4e94\u8fde\u5173\u5361 \n \u6700\u5927\u6389\u843d\u6570\u56fa\u5b9a\u4e3a5\uff0c5\u8fde\u51fb\u53ca\u4ee5\u4e0a\u624d\u80fd\u83b7\u5f97\u6b65\u6570\u5956\u52b1";break;case 3:a.default.curBeatNum>1&&(c.Util.randomInt(t,t+e-3)>a.default.curBeatNum+3?(a.default.curStepNum+=e,this.bonusStep=e):c.Util.randomInt(e-3,t+e-3)<a.default.curBeatNum&&(a.default.curStepNum+=e-2,this.bonusStep=e-2)),this.theBonusNumMax(t,4),this.lbTipsFloat.string="\u591a\u6d88\u5173\u5361 \n \u6d88\u9664\u6570\u91cf\u8d8a\u591a\u5c31\u6709\u673a\u4f1a\u83b7\u5f97\u6d88\u9664\u6570\u91cf\u6b65\u6570\u5956\u52b1";break;case 4:a.default.curBeatNum!=t&&e!=t&&c.Util.randomInt(t,a.default.bonusNum+1)!=t||(a.default.curStepNum+=t+1,this.bonusStep=t+1),this.theBonusNumMax(t,3),this.lbTipsFloat.string="\u6570\u540c\u5173\u5361 \n \u6d88\u9664\u6570\u5b57\u4e0e\u8fde\u51fb\u6570\u3001\u6d88\u9664\u6570\u91cf\u3001\u7cfb\u7edf\u968f\u673a\u6570\u5b57\u5176\u4e2d\u4efb\u610f\u4e00\u4e2a\u6709\u76f8\u540c\uff0c\u83b7\u5f97\u8be5\u6570\u5b57\u5956\u52b1\u6b65\u6570"}a.default.curScore>=this.targetScore&&5!=this.gameModels&&this.levelAdd()},e.prototype.theBonusNumMax=function(t,e){a.default.bonusNum>=20?a.default.bonusNum=20:(a.default.bonusNum-4)*e==t+1&&(a.default.bonusNum++,this.weightArr.unshift(a.default.bonusNum),this.numArr.push(a.default.bonusNum))},e.prototype.rdNum=function(t,e){for(var n,o=[],i=[],r=0;r<t;++r)o.push(r+1);for(r=0;r<e;++r)n=Math.ceil(Math.random()*o.length)-1,i.push(o[n]+1),o.splice(n,1);return i},e.prototype.onTapShareMain=function(t,e){var n=c.Util.randomInt(1,2),o=r.shareSlogan[n].title,i=r.shareSlogan[n].url;wx.shareAppMessage({title:o,imageUrl:i})},__decorate([m(cc.Node)],e.prototype,"noTileRoot",void 0),__decorate([m(cc.Node)],e.prototype,"MapIcnRoot",void 0),__decorate([m(cc.Prefab)],e.prototype,"MapIcnPre",void 0),e=__decorate([f],e)}(o.default);n.default=k,cc._RF.pop()},{"../../comm/databind/property-contex":"property-contex","../../comm/mgr/game-mgr":"game-mgr","../../comm/mgr/pool-mgr":"pool-mgr","../../comm/struct/comm-struct":"comm-struct","../../comm/util/utils":"utils","../../data/constant":"constant","../../data/event-list":"event-list","../../data/fight-data":"fight-data","./tile":"tile","./tileMapIcn":"tileMapIcn"}],gm:[function(t,e,n){"use strict";cc._RF.push(e,"d2bd6b6wzpPZq/9DoWIExCI","gm"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../comm/mgr/game-mgr"),i=cc._decorator.ccclass,r=function(){function t(){e._instance=this}var e;return e=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),t.prototype.send_rpc=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(e=o.default.instance.netMgr).send.apply(e,[t].concat(n))},t._instance=null,t=e=__decorate([i],t)}();n.GMModule=r,window.gm=new r,cc._RF.pop()},{"../../comm/mgr/game-mgr":"game-mgr"}],"label-ext":[function(t,e,n){"use strict";cc._RF.push(e,"2df5bAFPZlDmpxcovfVqCNt","label-ext"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e=__decorate([i],e)}(cc.Label));n.default=r,cc._RF.pop()},{}],"loading-panel":[function(t,e,n){"use strict";cc._RF.push(e,"0b4aecBWzNHDqN1tHOdukST","loading-panel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../comm/ui/base-panel"),i=cc._decorator,r=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbLoading=null,e._callback=null,e}return __extends(e,t),e.prototype.init=function(){},e.prototype.onRefreshUI=function(){this.lbLoading.string=this._params.content||"\u52a0\u8f7d\u4e2d...",this._callback=this._params.callback},e.prototype.update=function(t){this._callback&&this._callback(this.lbLoading)},e.prototype.onClose=function(){this.lbLoading.string="\u52a0\u8f7d\u4e2d...",this._callback=null},e=__decorate([r],e)}(o.default));n.default=a,cc._RF.pop()},{"../../comm/ui/base-panel":"base-panel"}],"local-storage-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"e70b5p/BEpD3aQvuxzE75lX","local-storage-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getItem=function(t){return cc.sys.localStorage.getItem(t)},t.setItem=function(t,e){cc.sys.localStorage.setItem(t,e)},t.getString=function(t){return this.getItem(t)},t.setString=function(t,e){this.setItem(t,e)},t.getObj=function(t){return JSON.parse(this.getItem(t))},t.setObj=function(t,e){this.setItem(t,JSON.stringify(e))},t.getBool=function(t){return"true"==this.getItem(t)},t.setBool=function(t,e){this.setItem(t,e.toString())},t.getNumber=function(t){var e=this.getItem(t);return e?+e:0},t.setNumber=function(t,e){this.setItem(t,e.toString())},t.clear=function(){cc.sys.localStorage.clear()},t}();n.default=o,cc._RF.pop()},{}],"login-panel":[function(t,e,n){"use strict";cc._RF.push(e,"28b652ucYJD+4+TlqnRWW4I","login-panel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../comm/ui/base-panel"),i=t("../../comm/mgr/game-mgr"),r=t("../../data/constant"),a=t("../../comm/util/utils"),c=t("../../comm/mgr/local-storage-mgr"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.userNameEdit=null,e.pwdEdit=null,e.userName="",e.isCanPressBtn=!0,e.code="",e}return __extends(e,t),e.prototype.init=function(){a.Util.exe(function(){wx.hideLoading()});var t=c.default.getString("name"),e=c.default.getString("pwd");t&&(this.userNameEdit.string=t),e&&(this.pwdEdit.string=e)},e.prototype.onRefreshUI=function(){},e.prototype.onConnect=function(t,e){i.default.instance.plateForm==r.Plateform.Web&&this.userNameEdit.string.length<=0?i.default.instance.uiMgr.floatTips("\u8bf7\u8f93\u5165\u7528\u6237\u540d~"):"1"!=e||i.default.instance.plateForm!=r.Plateform.Web?(a.Util.exe(function(){wx.showLoading({title:"\u52a0\u8f7d\u4e2d...",mask:!0})}),i.default.instance.connect(e,this.userNameEdit.string)):i.default.instance.uiMgr.floatTips("Web\u7248\u672c\u6682\u4e0d\u5f00\u653e~")},e.prototype.onLoginFinish=function(){c.default.setString("pwd",this.pwdEdit.string),i.default.instance.loadScene(r.Scene.Fight),i.default.instance.uiMgr.openPanel(r.UIPanel.MainPanel)},e.prototype.onConnectSuccess=function(){var t=this;a.Util.exe(function(){i.default.instance.netMgr.send("rpc_server_login",i.default.instance.plateForm.toString(),t.code,t.userName)});var e=this.userName+"_@&q10_native*&!";i.default.instance.netMgr.send("rpc_server_login",i.default.instance.plateForm.toString(),e,this.userName)},e.prototype.registerEvent=function(){},e.prototype.removeEvent=function(){},__decorate([u({type:cc.EditBox})],e.prototype,"userNameEdit",void 0),__decorate([u({type:cc.EditBox})],e.prototype,"pwdEdit",void 0),e=__decorate([l],e)}(o.default);n.default=p,cc._RF.pop()},{"../../comm/mgr/game-mgr":"game-mgr","../../comm/mgr/local-storage-mgr":"local-storage-mgr","../../comm/ui/base-panel":"base-panel","../../comm/util/utils":"utils","../../data/constant":"constant"}],"main-panel":[function(t,e,n){"use strict";cc._RF.push(e,"3d61axYTgNFjY9WQXIYFTkK","main-panel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../comm/ui/base-panel"),i=t("../../data/constant"),r=t("../../data/fight-data"),a=t("../../comm/mgr/game-mgr"),c=t("../play/collectionList"),s=t("../../comm/util/utils"),l=t("../../data/event-list"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ItemIcn=null,e.MapIcnRoot=null,e.mapIcnItems=[],e.wxsc=null,e.tabsPage=null,e}return __extends(e,t),e.prototype.start=function(){this.tileMapIcns()},e.prototype.init=function(){},e.prototype.onRefreshUI=function(){},e.prototype.onTapShareMain=function(t,e){var n=s.Util.randomInt(1,2),o=i.shareSlogan[n].title,r=i.shareSlogan[n].url;wx.shareAppMessage({title:o,imageUrl:r})},e.prototype.onTapVideoMain=function(t,e){},e.prototype.onTapRank=function(){a.default.instance.plateForm==i.Plateform.Wechat&&s.Util.wxSendMessage(l.OpenDataEvent.UPDATE_RANK)},e.prototype.onTapStartGame=function(t,e){switch(r.default.gameMode){case i.GameMode.Number:case i.GameMode.Challenge:a.default.instance.sceneMgr.loadScene(i.Scene.Number)}this.close()},e.prototype.tileMapIcns=function(){for(var t=0;t<20;++t){var e=cc.instantiate(this.ItemIcn);e.parent=this.MapIcnRoot;var n=e.getComponent(c.default);n.lbNumber.string=(t+1).toString(),n.lbQuantities.string="0",n.lbScoreAdd.string="+0%",this.mapIcnItems[t]=e}},e.prototype.refreshUI=function(){for(var t=0;t<20;++t){var e=this.mapIcnItems[t].getComponent(c.default);e.lbQuantities.string=r.default.collectionNum[t].toString(),e.lbScoreAdd.string="+"+r.default.collectionNum[t]+"%"}},__decorate([d(cc.Prefab)],e.prototype,"ItemIcn",void 0),__decorate([d(cc.Node)],e.prototype,"MapIcnRoot",void 0),e=__decorate([p],e)}(o.default);n.default=h,cc._RF.pop()},{"../../comm/mgr/game-mgr":"game-mgr","../../comm/ui/base-panel":"base-panel","../../comm/util/utils":"utils","../../data/constant":"constant","../../data/event-list":"event-list","../../data/fight-data":"fight-data","../play/collectionList":"collectionList"}],md5:[function(t,e,n){"use strict";cc._RF.push(e,"2e9bafl/8hCIK+nntfuK+8U","md5"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}return t.hashStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendStr(t).end(e)},t.hashAsciiStr=function(t,e){return void 0===e&&(e=!1),this.onePassHasher.start().appendAsciiStr(t).end(e)},t._hex=function(e){var n,o,i,r,a=t.hexChars,c=t.hexOut;for(r=0;r<4;r+=1)for(o=8*r,n=e[r],i=0;i<8;i+=2)c[o+1+i]=a.charAt(15&n),n>>>=4,c[o+0+i]=a.charAt(15&n),n>>>=4;return c.join("")},t._md5cycle=function(t,e){var n=t[0],o=t[1],i=t[2],r=t[3];o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&i|~o&r)+e[0]-680876936|0)<<7|n>>>25)+o|0)&o|~n&i)+e[1]-389564586|0)<<12|r>>>20)+n|0)&n|~r&o)+e[2]+606105819|0)<<17|i>>>15)+r|0)&r|~i&n)+e[3]-1044525330|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&i|~o&r)+e[4]-176418897|0)<<7|n>>>25)+o|0)&o|~n&i)+e[5]+1200080426|0)<<12|r>>>20)+n|0)&n|~r&o)+e[6]-1473231341|0)<<17|i>>>15)+r|0)&r|~i&n)+e[7]-45705983|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&i|~o&r)+e[8]+1770035416|0)<<7|n>>>25)+o|0)&o|~n&i)+e[9]-1958414417|0)<<12|r>>>20)+n|0)&n|~r&o)+e[10]-42063|0)<<17|i>>>15)+r|0)&r|~i&n)+e[11]-1990404162|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&i|~o&r)+e[12]+1804603682|0)<<7|n>>>25)+o|0)&o|~n&i)+e[13]-40341101|0)<<12|r>>>20)+n|0)&n|~r&o)+e[14]-1502002290|0)<<17|i>>>15)+r|0)&r|~i&n)+e[15]+1236535329|0)<<22|o>>>10)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&r|i&~r)+e[1]-165796510|0)<<5|n>>>27)+o|0)&i|o&~i)+e[6]-1069501632|0)<<9|r>>>23)+n|0)&o|n&~o)+e[11]+643717713|0)<<14|i>>>18)+r|0)&n|r&~n)+e[0]-373897302|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&r|i&~r)+e[5]-701558691|0)<<5|n>>>27)+o|0)&i|o&~i)+e[10]+38016083|0)<<9|r>>>23)+n|0)&o|n&~o)+e[15]-660478335|0)<<14|i>>>18)+r|0)&n|r&~n)+e[4]-405537848|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&r|i&~r)+e[9]+568446438|0)<<5|n>>>27)+o|0)&i|o&~i)+e[14]-1019803690|0)<<9|r>>>23)+n|0)&o|n&~o)+e[3]-187363961|0)<<14|i>>>18)+r|0)&n|r&~n)+e[8]+1163531501|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o&r|i&~r)+e[13]-1444681467|0)<<5|n>>>27)+o|0)&i|o&~i)+e[2]-51403784|0)<<9|r>>>23)+n|0)&o|n&~o)+e[7]+1735328473|0)<<14|i>>>18)+r|0)&n|r&~n)+e[12]-1926607734|0)<<20|o>>>12)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o^i^r)+e[5]-378558|0)<<4|n>>>28)+o|0)^o^i)+e[8]-2022574463|0)<<11|r>>>21)+n|0)^n^o)+e[11]+1839030562|0)<<16|i>>>16)+r|0)^r^n)+e[14]-35309556|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o^i^r)+e[1]-1530992060|0)<<4|n>>>28)+o|0)^o^i)+e[4]+1272893353|0)<<11|r>>>21)+n|0)^n^o)+e[7]-155497632|0)<<16|i>>>16)+r|0)^r^n)+e[10]-1094730640|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o^i^r)+e[13]+681279174|0)<<4|n>>>28)+o|0)^o^i)+e[0]-358537222|0)<<11|r>>>21)+n|0)^n^o)+e[3]-722521979|0)<<16|i>>>16)+r|0)^r^n)+e[6]+76029189|0)<<23|o>>>9)+i|0,o=((o+=((i=((i+=((r=((r+=((n=((n+=(o^i^r)+e[9]-640364487|0)<<4|n>>>28)+o|0)^o^i)+e[12]-421815835|0)<<11|r>>>21)+n|0)^n^o)+e[15]+530742520|0)<<16|i>>>16)+r|0)^r^n)+e[2]-995338651|0)<<23|o>>>9)+i|0,o=((o+=((r=((r+=(o^((n=((n+=(i^(o|~r))+e[0]-198630844|0)<<6|n>>>26)+o|0)|~i))+e[7]+1126891415|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~o))+e[14]-1416354905|0)<<15|i>>>17)+r|0)|~n))+e[5]-57434055|0)<<21|o>>>11)+i|0,o=((o+=((r=((r+=(o^((n=((n+=(i^(o|~r))+e[12]+1700485571|0)<<6|n>>>26)+o|0)|~i))+e[3]-1894986606|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~o))+e[10]-1051523|0)<<15|i>>>17)+r|0)|~n))+e[1]-2054922799|0)<<21|o>>>11)+i|0,o=((o+=((r=((r+=(o^((n=((n+=(i^(o|~r))+e[8]+1873313359|0)<<6|n>>>26)+o|0)|~i))+e[15]-30611744|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~o))+e[6]-1560198380|0)<<15|i>>>17)+r|0)|~n))+e[13]+1309151649|0)<<21|o>>>11)+i|0,o=((o+=((r=((r+=(o^((n=((n+=(i^(o|~r))+e[4]-145523070|0)<<6|n>>>26)+o|0)|~i))+e[11]-1120210379|0)<<10|r>>>22)+n|0)^((i=((i+=(n^(r|~o))+e[2]+718787259|0)<<15|i>>>17)+r|0)|~n))+e[9]-343485551|0)<<21|o>>>11)+i|0,t[0]=n+t[0]|0,t[1]=o+t[1]|0,t[2]=i+t[2]|0,t[3]=r+t[3]|0},t.prototype.start=function(){return this._dataLength=0,this._bufferLength=0,this._state.set(t.stateIdentity),this},t.prototype.appendStr=function(e){var n,o,i=this._buffer8,r=this._buffer32,a=this._bufferLength;for(o=0;o<e.length;o+=1){if((n=e.charCodeAt(o))<128)i[a++]=n;else if(n<2048)i[a++]=192+(n>>>6),i[a++]=63&n|128;else if(n<55296||n>56319)i[a++]=224+(n>>>12),i[a++]=n>>>6&63|128,i[a++]=63&n|128;else{if((n=1024*(n-55296)+(e.charCodeAt(++o)-56320)+65536)>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");i[a++]=240+(n>>>18),i[a++]=n>>>12&63|128,i[a++]=n>>>6&63|128,i[a++]=63&n|128}a>=64&&(this._dataLength+=64,t._md5cycle(this._state,r),a-=64,r[0]=r[16])}return this._bufferLength=a,this},t.prototype.appendAsciiStr=function(e){for(var n,o=this._buffer8,i=this._buffer32,r=this._bufferLength,a=0;;){for(n=Math.min(e.length-a,64-r);n--;)o[r++]=e.charCodeAt(a++);if(r<64)break;this._dataLength+=64,t._md5cycle(this._state,i),r=0}return this._bufferLength=r,this},t.prototype.appendByteArray=function(e){for(var n,o=this._buffer8,i=this._buffer32,r=this._bufferLength,a=0;;){for(n=Math.min(e.length-a,64-r);n--;)o[r++]=e[a++];if(r<64)break;this._dataLength+=64,t._md5cycle(this._state,i),r=0}return this._bufferLength=r,this},t.prototype.getState=function(){var t=this._state;return{buffer:String.fromCharCode.apply(null,this._buffer8),buflen:this._bufferLength,length:this._dataLength,state:[t[0],t[1],t[2],t[3]]}},t.prototype.setState=function(t){var e,n=t.buffer,o=t.state,i=this._state;for(this._dataLength=t.length,this._bufferLength=t.buflen,i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3],e=0;e<n.length;e+=1)this._buffer8[e]=n.charCodeAt(e)},t.prototype.end=function(e){void 0===e&&(e=!1);var n,o=this._bufferLength,i=this._buffer8,r=this._buffer32,a=1+(o>>2);if(this._dataLength+=o,i[o]=128,i[o+1]=i[o+2]=i[o+3]=0,r.set(t.buffer32Identity.subarray(a),a),o>55&&(t._md5cycle(this._state,r),r.set(t.buffer32Identity)),(n=8*this._dataLength)<=4294967295)r[14]=n;else{var c=n.toString(16).match(/(.*?)(.{0,8})$/);if(null===c)return;var s=parseInt(c[2],16),l=parseInt(c[1],16)||0;r[14]=s,r[15]=l}return t._md5cycle(this._state,r),e?this._state:t._hex(this._state)},t.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]),t.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),t.hexChars="0123456789abcdef",t.hexOut=[],t.onePassHasher=new t,t}();n.Md5=o,"5d41402abc4b2a76b9719d911017c592"!==o.hashStr("hello")&&console.error("Md5 self test failed."),cc._RF.pop()},{}],"monitor-component":[function(t,e,n){"use strict";cc._RF.push(e,"9cbceBPphBHoYdlQAzUmNBz","monitor-component"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=(o.property,function(t){function e(){var e=t.call(this)||this;return n._readySetLoadCallback&&(e._onLoadCallback=n._readySetLoadCallback,n._readySetLoadCallback=null),e}var n;return __extends(e,t),n=e,e.preSetOnLoadCallback=function(t){n._readySetLoadCallback=t},e.prototype.setUpdateCallback=function(t){this._onUpdateCallback=t},e.prototype.setLateUpdateCallback=function(t){this._onLateUpdateCallback=t},e.prototype.setEnableCallback=function(t){this._onEnableCallback=t},e.prototype.setDisableCallback=function(t){this._onDisableCallback=t},e.prototype.setDestroyCallback=function(t){this._onDestroyCallback=t},e.prototype.onLoad=function(){var t=this._onLoadCallback;this._onLoadCallback=null,t&&t()},e.prototype.start=function(){},e.prototype.update=function(t){this._onUpdateCallback&&this._onUpdateCallback(t)},e.prototype.lateUpdate=function(){this._onLateUpdateCallback&&this._onLateUpdateCallback()},e.prototype.onEnable=function(){this._onEnableCallback&&this._onEnableCallback()},e.prototype.onDisable=function(){this._onDisableCallback&&this._onDisableCallback()},e.prototype.onDestroy=function(){this._onDestroyCallback&&this._onDestroyCallback(),this._onUpdateCallback=null,this._onLateUpdateCallback=null,this._onEnableCallback=null,this._onDisableCallback=null,this._onDestroyCallback=null},e=n=__decorate([i],e)}(cc.Component));n.default=r,cc._RF.pop()},{}],"net-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"33577gIYHhOh42NN5cNd/DF","net-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./connection"),i=t("./rpc"),r=t("./rpc-dispatch"),a=t("../comm/md5"),c=function(){function t(t){void 0===t&&(t=""),this.name=t,this.dispatch=new r.RpcDispatch}return t.prototype.connect=function(t,e){var n="ws://"+t+":"+e;this.connectURL(n)},t.prototype.connectURL=function(t){cc.loader.loadRes("rpc",function(e,n){this.conn=new o.default(this.onOpen.bind(this),this.onClosed.bind(this));var i=n.text.replace(/(\r|\n$)/g,"");this.initRPC(i,this.dispatch),this.conn.setDispatch(this.dispatch),this.conn.connectURL(t),this.conn.name=this.name,this.conn.logLevel=o.RPC_LOG_LEVEL.None}.bind(this))},t.prototype.initRPC=function(t,e){this.rpcPtoSign=a.Md5.hashStr(t).toString();var n=new i.default;n.initCFG(t),this.conn.setRPC(n)},t.prototype.bindRpc=function(t,e){this.dispatch.bind(t,e)},t.prototype.unBindRpc=function(t){this.dispatch.unbind(t)},t.prototype.onOpen=function(t){this.bindRpc("rpc_client_version_return",this.onProtocolReady.bind(this)),this.bindRpc("rpc_client_update_pto",this.initRPC.bind(this)),this.send("rpc_server_version","engineV","scriptV",this.rpcPtoSign)},t.prototype.onClosed=function(t){this.unBindRpc("rpc_client_version_return"),this.unBindRpc("rpc_client_update_pto"),this.onClosedHandler(this)},t.prototype.onProtocolReady=function(){this.onReadyHandler(this)},t.prototype.send=function(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(e=this.conn).call.apply(e,[t].concat(n))},t}();n.default=c,cc._RF.pop()},{"../comm/md5":"md5","./connection":"connection","./rpc":"rpc","./rpc-dispatch":"rpc-dispatch"}],"over-panel":[function(t,e,n){"use strict";cc._RF.push(e,"aef6c01enxDDqm645IqBjC/","over-panel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../comm/ui/base-panel"),i=t("../../data/fight-data"),r=t("../../comm/util/utils"),a=t("../../comm/mgr/game-mgr"),c=t("../../data/constant"),s=t("../../data/event-list"),l=cc._decorator,u=l.ccclass,p=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbScore=null,e.lbCollection=null,e.lbTypes=null,e.bestScore=null,e}return __extends(e,t),e.prototype.init=function(){this.doScoreCalc()},e.prototype.onRefreshUI=function(){this.lbScore.string=r.Util.language("total_score",i.default.curScore),this.bestScore.string=r.Util.language("over_history_bests",i.default.bestScore);for(var t=0,e=0,n=0;n<i.default.collectionNum.length;n++)t+=i.default.collectionNum[n],i.default.collectionNum[n]>0&&e++;this.lbCollection.string=r.Util.language("over_collections_quantity",t-0),this.lbTypes.string=r.Util.language("over_collection_types",e-i.default.collectionType),i.default.collectionType+=e-i.default.collectionType},e.prototype.onTapMain=function(){this.doScoreCalc(),i.default.clear(),a.default.instance.uiMgr.openPanel(c.UIPanel.MainPanel)},e.prototype.onTapWord=function(){this.doScoreCalc(),i.default.clear(),a.default.instance.uiMgr.openPanel(c.UIPanel.WordPanel)},e.prototype.onTryagain=function(){this.doScoreCalc(),i.default.clear(),a.default.instance.sceneMgr.loadScene(c.Scene.Number),this.close()},e.prototype.onTapShareOver=function(t,e){var n=r.Util.randomInt(1,2),o=c.shareSlogan[n].title,i=c.shareSlogan[n].url;wx.shareAppMessage({title:o,imageUrl:i})},e.prototype.onTapRankOver=function(){},e.prototype.doScoreCalc=function(){a.default.instance.plateForm==c.Plateform.Wechat&&r.Util.wxSendMessage(s.OpenDataEvent.UPLOAD_MY_RANK,{key:"number_score",value:i.default.curScore})},e=__decorate([u],e)}(o.default));n.default=p,cc._RF.pop()},{"../../comm/mgr/game-mgr":"game-mgr","../../comm/ui/base-panel":"base-panel","../../comm/util/utils":"utils","../../data/constant":"constant","../../data/event-list":"event-list","../../data/fight-data":"fight-data"}],"page-btn":[function(t,e,n){"use strict";cc._RF.push(e,"2fd1dS4JUlCqaLxeUqKZa3y","page-btn"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageView=null,e.btnLeft=null,e.btnRight=null,e.enableDrag=!1,e.onPagedCallback=null,e.totalCount=0,e}var n;return __extends(e,t),n=e,e.prototype.start=function(){this.pageView||(this.pageView=this.node.getComponent(cc.PageView)),this.updateBtnState();var t=new cc.Component.EventHandler;t.target=this.node,t.component=n,t.handler="onTapLeft",this.btnLeft.clickEvents.push(t);var e=new cc.Component.EventHandler;e.target=this.node,e.component=n,e.handler="onTapRight",this.btnRight.clickEvents.push(e);var o=new cc.Component.EventHandler;o.target=this.node,o.component=n,o.handler="handleTabsState",this.pageView.pageEvents.push(o)},e.prototype.onEnable=function(){this.enableDrag||this.pageView._unregisterEvent()},e.prototype.updateBtnState=function(t){if(this.pageView){this.totalCount=t||this.totalCount;var e=this.pageView.getCurrentPageIndex();this.btnLeft.node.active=e>0,this.btnRight.node.active=e<this.totalCount-1}},e.prototype.handleTabsState=function(t){this.updateBtnState()},e.prototype.onTapLeft=function(t){var e=this.pageView.getCurrentPageIndex()-1;this.pageView.scrollToPage(e,.3),this.onPagedCallback&&this.onPagedCallback(e)},e.prototype.onTapRight=function(t){var e=this.pageView.getCurrentPageIndex()+1;this.pageView.scrollToPage(e,.3),this.onPagedCallback&&this.onPagedCallback(e)},__decorate([r(cc.PageView)],e.prototype,"pageView",void 0),__decorate([r(cc.Button)],e.prototype,"btnLeft",void 0),__decorate([r(cc.Button)],e.prototype,"btnRight",void 0),__decorate([r],e.prototype,"enableDrag",void 0),e=n=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{}],"page-view":[function(t,e,n){"use strict";cc._RF.push(e,"27c81QBQTpO74Dr+ucTQUJ6","page-view"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.content=null,e.pageBtns=null,e.allowSlide=!0,e.slideFactor=.3,e.totalCount=0,e._onPageUpdate=null,e._curPageIdx=0,e._view=null,e._leftBtn=null,e._rightBtn=null,e._viewSize=null,e._isTouchStart=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"curPageIdx",{get:function(){return this._curPageIdx},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"curPageNode",{get:function(){return this.content.children[this._curPageIdx]},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this.init()},e.prototype.init=function(){if(this.pageBtns&&this.pageBtns.childrenCount>=2){var t=this.pageBtns.children[0].getComponent(cc.Button);t||(t=this.pageBtns.children[0].addComponent(cc.Button)),this._leftBtn=t,(t=this.pageBtns.children[1].getComponent(cc.Button))||(t=this.pageBtns.children[1].addComponent(cc.Button)),this._rightBtn=t;var e=new cc.Component.EventHandler;e.target=this.node,e.component="page-view",e.handler="onTapPageBtns",e.customEventData="-1",this._leftBtn.clickEvents.push(e);var n=new cc.Component.EventHandler;n.target=this.node,n.component="page-view",n.handler="onTapPageBtns",n.customEventData="1",this._rightBtn.clickEvents.push(n)}this.totalCount=this.content.childrenCount,this._view=this.content.parent,this._viewSize=this._view.getContentSize(),this.animate2Page(0)},e.prototype.onEnable=function(){this._view.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this._view.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this._view.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this._view.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onDisable=function(){this._view.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this._view.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this._view.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this._view.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onTouchStart=function(t){if(this.allowSlide){var e=this._view.convertToNodeSpaceAR(t.getLocation());this._view.getBoundingBox().contains(e)&&(this._isTouchStart=!0)}},e.prototype.onTouchMove=function(t){if(this.allowSlide&&this._isTouchStart){t.getStartLocation();var e=this.content.x+t.getDeltaX();e=cc.misc.clampf(e,-(this.totalCount-.5)*this._viewSize.width,.5*-this._viewSize.width),this.content.x=e}},e.prototype.onTouchEnd=function(t){this.handleTouch(t)},e.prototype.onTouchCancel=function(t){this.handleTouch(t)},e.prototype.handleTouch=function(t){if(this.allowSlide){if(this._isTouchStart){var e=t.getLocationX()-t.getStartLocation().x,n=e%this._viewSize.width/this._viewSize.width,o=this._curPageIdx;if(Math.abs(n)>=this.slideFactor)o+=-(e>0?1:-1);o=cc.misc.clampf(o,0,this.totalCount-1),this.scrollToPage(o,.05)}this._isTouchStart=!1}},e.prototype.animate2Page=function(t,e){void 0===e&&(e=0);var n=this.content.x;t>=0&&t<this.totalCount&&(this._curPageIdx=t,this.content.stopAllActions(),n=-(t+.5)*this._viewSize.width),this.updateBtns(),e?this.content.runAction(cc.moveTo(e,cc.v2(n,0))):this.content.position=cc.v2(n,0)},e.prototype.scrollToPage=function(t,e){void 0===e&&(e=0),this.animate2Page(t,e),this._onPageUpdate&&this._onPageUpdate(this._curPageIdx)},e.prototype.setCurPage=function(t){this.animate2Page(t,0)},e.prototype.insertPage=function(t,e){void 0===e&&(e=-1),this.content.children.indexOf(t)>=0||(this.content.addChild(t),-1==e?t.setSiblingIndex(this.totalCount):t.setSiblingIndex(e),this.totalCount=this.content.childrenCount,this.setDirty())},e.prototype.removePage=function(t){if(void 0===t&&(t=-1),!(this.content.childrenCount<=0)){var e=this.content.childrenCount-1;t>=0&&(e=cc.misc.clampf(t,0,this.content.childrenCount-1)),this.content.removeChild(this.content.children[e]),this.setDirty()}},e.prototype.setPageVisible=function(t,e){if(!(this.content.childrenCount<=0)){var n=cc.misc.clampf(t,0,this.content.childrenCount);this.content.children[n].active=e}},e.prototype.setDirty=function(){for(var t=0,e=0;e<this.content.childrenCount;++e)this.content.children[e].active&&t++;this.totalCount=t,this.content.children.sort(function(t,e){var n=t.active?1:0;return(e.active?1:0)-n}),this._curPageIdx=cc.misc.clampf(this._curPageIdx,0,this.totalCount-1),this.scrollToPage(this._curPageIdx,0)},e.prototype.bindSlideCallback=function(t,e){this._onPageUpdate=t.bind(e)},e.prototype.updateBtns=function(){this._leftBtn&&this._rightBtn&&(this._leftBtn.node.active=this._curPageIdx>0,this._rightBtn.node.active=this._curPageIdx<this.totalCount-1)},e.prototype.onTapPageBtns=function(t,e){var n=cc.misc.clampf(this._curPageIdx+ +e,0,this.totalCount-1);this.scrollToPage(n,.1)},__decorate([r(cc.Node)],e.prototype,"content",void 0),__decorate([r(cc.Node)],e.prototype,"pageBtns",void 0),__decorate([r(cc.Boolean)],e.prototype,"allowSlide",void 0),__decorate([r(cc.Float)],e.prototype,"slideFactor",void 0),e=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{}],polyfill:[function(t,e,n){"use strict";cc._RF.push(e,"145a80IVydCFbFXjHZjxVLp","polyfill");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"function"==typeof Object.assign&&Object.assign({},{})||Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},writable:!0,configurable:!0}),Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(r){if("object"!==(void 0===r?"undefined":o(r))&&"function"!=typeof r||null===r)throw new TypeError("Object.keys called on non-object");var a=[];for(var c in r)t.call(r,c)&&a.push(c);if(e)for(var s=0;s<i;s++)t.call(r,n[s])&&a.push(n[s]);return a}}()),Object.values||(Object.values=function(t){if(t!==Object(t))throw new TypeError("Object.values called on a non-object");var e,n=[];for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&n.push(t[e]);return n}),cc._RF.pop()},{}],"polyglot.min":[function(t,e,n){"use strict";cc._RF.push(e,"e26fd9yy65A4q3/JkpVnFYg","polyglot.min");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(t,i){"function"==typeof define&&define.amd?define([],function(){return i(t)}):"object"==(void 0===n?"undefined":o(n))?e.exports=i(t):t.Polyglot=i(t)})(void 0,function(t){function e(t){t=t||{},this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",this.allowMissing=!!t.allowMissing,this.warn=t.warn||r}function n(t,e,n){var o,r;return null!=n&&t?o=function(t){return t.replace(/^\s+|\s+$/g,"")}((r=t.split(a))[i(e,n)]||r[0]):o=t,o}function i(t,e){return c[function(t){var e=function(t){var e,n,o,i={};for(e in t)if(t.hasOwnProperty(e))for(o in n=t[e])i[n[o]]=e;return i}(s);return e[t]||e.en}(t)](e)}function r(e){t.console&&t.console.warn&&t.console.warn("WARNING: "+e)}e.VERSION="0.4.3",e.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},e.prototype.extend=function(t,e){var n;for(var i in t)t.hasOwnProperty(i)&&(n=t[i],e&&(i=e+"."+i),"object"==(void 0===n?"undefined":o(n))?this.extend(n,i):this.phrases[i]=n)},e.prototype.clear=function(){this.phrases={}},e.prototype.replace=function(t){this.clear(),this.extend(t)},e.prototype.t=function(t,e){var o,i;return"number"==typeof(e=null==e?{}:e)&&(e={smart_count:e}),"string"==typeof this.phrases[t]?o=this.phrases[t]:"string"==typeof e._?o=e._:this.allowMissing?o=t:(this.warn('Missing translation for key: "'+t+'"'),i=t),"string"==typeof o&&(e=function(t){var e={};for(var n in t)e[n]=t[n];return e}(e),i=function(t,e){for(var n in e)"_"!==n&&e.hasOwnProperty(n)&&(t=t.replace(new RegExp("%\\{"+n+"\\}","g"),e[n]));return t}(i=n(o,this.currentLocale,e.smart_count),e)),i},e.prototype.has=function(t){return t in this.phrases};var a="||||",c={chinese:function(t){return 0},german:function(t){return 1!==t?1:0},french:function(t){return t>1?1:0},russian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){return 1===t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0}},s={chinese:["fa","id","ja","ko","lo","ms","th","tr","zh"],german:["da","de","en","es","fi","el","he","hu","it","nl","no","pt","sv"],french:["fr","tl","pt-br"],russian:["hr","ru"],czech:["cs"],polish:["pl"],icelandic:["is"]};return e}),cc._RF.pop()},{}],"pool-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"484404MjntJe5jS4nwuxSUK","pool-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../data/constant"),i=t("./game-mgr"),r=t("../util/utils"),a=cc._decorator,c=a.ccclass,s=(a.property,function(){function t(t,e,n,o){void 0===o&&(o=5),this._usedList=[],this._freeList=[],this._handleType=null,this._initNum=5,this.name="",this._handleType=n,this._initNum=o,this.resType=t,this.name=e,this.spawnObjs()}return Object.defineProperty(t.prototype,"usedList",{get:function(){return this._usedList},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"freeList",{get:function(){return this._freeList},enumerable:!0,configurable:!0}),t.prototype.spawnObjs=function(){for(var t=0;t<this._initNum;++t){var e=r.Util.loadAsset(this.resType,this.name);e.parent=i.default.instance.poolRoot,e.x=1/0,e.active=!1,this._freeList.push(e)}},t.prototype.setPutGroup=function(t){t.group==o.ColliderGroup.OutScreen||l.instance.IsPerformanceMode||(t.group=o.ColliderGroup.OutScreen)},t.prototype.get=function(){this._freeList.length<=0&&this.spawnObjs();var t=this._freeList.pop();if(this._usedList.push(t),this._handleType){var e=t.getComponent(this._handleType);e&&e.reuse&&e.reuse()}return t.active=!0,t},t.prototype.put=function(t,e){void 0===e&&(e=!1);var n=t;if(e&&(n.parent=i.default.instance.poolRoot),n.x=1/0,n.active=!1,this._handleType){var o=n.getComponent(this._handleType);o.unuse&&o.unuse()}var r=this._usedList.findIndex(function(e){return e==t});r>=0&&(this._usedList.splice(r,1),this._freeList.push(n))},t.prototype.clear=function(){for(var t=0;t<this._usedList.length;++t){(e=this._usedList[t])&&r.Util.destroyNode(e,this.resType,this.name)}this._usedList.splice(0);for(t=0;t<this._freeList.length;++t){var e;(e=this._freeList[t])&&r.Util.destroyNode(e,this.resType,this.name)}this._freeList.splice(0)},t}());n.NodePool=s;var l=function(){function t(){this._allPool=new Map,this._isPerformanceMode=!1}var e;return e=t,Object.defineProperty(t.prototype,"IsPerformanceMode",{get:function(){return this._isPerformanceMode},enumerable:!0,configurable:!0}),Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!0,configurable:!0}),t.prototype.createPool=function(t,e,n,o,i){void 0===i&&(i=5);var a=r.Util.getAssetUrl(e,t);this._allPool[a]?o&&o():(this._allPool[a]||(this._allPool[a]=new s(e,t,n,i)),o&&o())},t.prototype.enablePerformance=function(t){this._isPerformanceMode=t,t||this.flushFreePools()},t.prototype.flushFreePools=function(){var t=this;i.default.instance.scheduleOnce(function(){for(var e in t._allPool)for(var n=t._allPool[e],o=0;o<n.freeList.length;++o)n.freeList[o]})},t.prototype.get=function(t,e){var n=r.Util.getAssetUrl(e,t),o=this._allPool[n];return o?o.get():(cc.error(n+" \u5bf9\u8c61\u6c60\u4e0d\u5b58\u5728"),null)},t.prototype.put=function(t,e,n){var o=r.Util.getAssetUrl(n,e),i=this._allPool[o];i&&i.put(t)},t.prototype.destroyPool=function(t){this._allPool[t]&&this._allPool[t].clear()},t.prototype.clear=function(){for(var t in this._allPool)this._allPool[t]&&this._allPool[t].clear();this._allPool.clear()},t._instance=null,t=e=__decorate([c],t)}();n.default=l,cc._RF.pop()},{"../../data/constant":"constant","../util/utils":"utils","./game-mgr":"game-mgr"}],"pre-loader":[function(t,e,n){"use strict";cc._RF.push(e,"8dea3CMrGhCUZn9NsHrQpev","pre-loader"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/comm/res-mgr"),i=t("../mgr/game-mgr"),r=t("../../data/constant"),a=t("../util/utils"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.noMain=null,e.pbLoading=null,e.lbText=null,e._resMgr=null,e._totalNum=0,e._loadedNum=0,e._totalList={},e._faildList=new Map,e}return __extends(e,t),e.prototype.onLoad=function(){this._resMgr=new o.default},e.prototype.start=function(){for(var t in r.GameAudio){var e=a.Util.getAssetUrl(r.ResType.Audio,r.GameAudio[t]);this._totalList[e]=cc.AudioClip}for(var t in r.UIPanel)if("None"!==t&&"RankPanel"!==t){var n=a.Util.getAssetUrl(r.ResType.PrefabUI,r.UIPanel[t]);this._totalList[n]=cc.Prefab}var i=a.Util.getAssetUrl(r.ResType.PrefabGame,"tile");for(var t in this._totalList[i]=cc.Prefab,r.Scene)if("None"!==t){var c=a.Util.getAssetUrl(r.ResType.PrefabScene,r.Scene[t]);this._totalList[c]=cc.Prefab}o.default.ins.spawnAssets(this._totalList,this.onLoadingComplete.bind(this),this.onLoadingFaild.bind(this),this.onLoadingProgress.bind(this))},e.prototype.retryLoading=function(){var t=this;o.default.ins.spawnAssets(this._faildList,this.onLoadingComplete.bind(this),this.onLoadingFaild.bind(this),function(e,n){var o=t._totalNum-n+e,i=o/t._totalNum;t._loadedNum=o,t.pbLoading.progress=i,t.lbText.string="\u5df2\u52a0\u8f7d "+Math.round(100*i)+"%"})},e.prototype.onLoadingProgress=function(t,e,n,o,i){var r=t/e;this._totalNum=e,this._loadedNum=t,this.pbLoading&&(this.pbLoading.progress=r,this.lbText.string="\u5df2\u52a0\u8f7d "+Math.round(100*r)+"%")},e.prototype.onLoadingFaild=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var o in console.log("\u52a0\u8f7d\u5931\u8d25"),this._faildList.clear(),t)t[o]||(this._faildList[o]=this._totalList[o])},e.prototype.onLoadingComplete=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];cc.log("\u52a0\u8f7d\u5b8c\u6210"),this.pbLoading&&(this.pbLoading.node.active=!1,this.lbText.node.active=!1),this.noMain.active=!0,i.default.instance.plateForm==r.Plateform.Wechat?this.getUserInfo():i.default.instance.plateForm==r.Plateform.Web&&this.destroyMySelf()},e.prototype.getUserInfo=function(){var t=this,e=0,n=0;wx.getSystemInfo({success:function(t){e=t.screenWidth,n=t.screenHeight}}),a.Util.exe(function(){wx.login({success:function(o){if(o.code){i.default.instance.code=o.code,console.log("\u83b7\u53d6code\u6210\u529f\uff01"+i.default.instance.code);var r=wx.createUserInfoButton({type:"text",style:{left:.5*(e-200),top:.5*(n-200),width:200,height:200,backgroundColor:"#00000000",color:"#00000000"}});r.onTap(function(e){if(e.userInfo){console.log("\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6210\u529f");var n=e.userInfo;i.default.instance.userName=n.nickName,t.destroyMySelf(),r.destroy()}})}else console.log("\u83b7\u53d6code\u5931\u8d25\uff01"+o.errMsg),wx.showToast({title:"\u83b7\u53d6\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u662f\u5426\u8fde\u901a",icon:"none",duration:2e3})}})})},e.prototype.destroyMySelf=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(.3),cc.fadeOut(.6),cc.callFunc(function(){a.Util.exe(function(){}),t.node.destroy()})))},__decorate([l(cc.Node)],e.prototype,"noMain",void 0),__decorate([l(cc.ProgressBar)],e.prototype,"pbLoading",void 0),__decorate([l(cc.Label)],e.prototype,"lbText",void 0),e=__decorate([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../core/comm/res-mgr":"res-mgr","../../data/constant":"constant","../mgr/game-mgr":"game-mgr","../util/utils":"utils"}],"property-bind":[function(t,e,n){"use strict";cc._RF.push(e,"52b19c3evtEMaQxXQU/Euqv","property-bind"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../data/constant"),i=t("../util/utils"),r=t("../ui/page-view"),a=t("./property-contex"),c=cc._decorator,s=c.ccclass,l=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.propertyName="",e.componentType=o.PropertyType.Node,e._component=null,e}return __extends(e,t),e.prototype.bind=function(){var t=i.Util.getComponentInParent(this.node,a.default);void 0!==t[this.propertyName]?t[this.propertyName]=this._component:cc.error("\u9519\u8bef\uff1a"+this.propertyName+"\u5728"+t.constructor.name+"\u4e2d\u672a\u5b9a\u4e49")},e.prototype.init=function(){if(this.componentType===o.PropertyType.Node)this._component=this.node;else switch(this.componentType){case o.PropertyType.Sprite:this._component=this.node.getComponent(cc.Sprite);break;case o.PropertyType.Label:this._component=this.node.getComponent(cc.Label);break;case o.PropertyType.ProgressBar:this._component=this.node.getComponent(cc.ProgressBar);break;case o.PropertyType.RichText:this._component=this.node.getComponent(cc.RichText);break;case o.PropertyType.PageView:this._component=this.node.getComponent(cc.PageView);break;case o.PropertyType.Button:this._component=this.node.getComponent(cc.Button);break;case o.PropertyType.ScrollView:this._component=this.node.getComponent(cc.ScrollView);break;case o.PropertyType.MyPageView:this._component=this.node.getComponent(r.default)}},e.prototype.onLoad=function(){this.init(),this.bind()},e.prototype.start=function(){},__decorate([l(cc.String)],e.prototype,"propertyName",void 0),__decorate([l({type:o.PropertyType})],e.prototype,"componentType",void 0),e=__decorate([s],e)}(cc.Component);n.default=u,cc._RF.pop()},{"../../data/constant":"constant","../ui/page-view":"page-view","../util/utils":"utils","./property-contex":"property-contex"}],"property-contex":[function(t,e,n){"use strict";cc._RF.push(e,"13c5fOcVtNFzrz6eypXJYdp","property-contex"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e=__decorate([i],e)}(cc.Component));n.default=r,cc._RF.pop()},{}],"q10-net-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"175f7towyZKyq3lvK5MtnOt","q10-net-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/network/net-mgr"),i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.netMgr=null,e._bindMap={},e}return __extends(e,t),Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){e._instance=this,this.netMgr=new o.default,this.netMgr.onReadyHandler=this.openNetHandle.bind(this),this.netMgr.onClosedHandler=this.closeNetHandle.bind(this)},e.prototype.start=function(){},e.prototype.bindRpc=function(t,e){this._bindMap[t]||(this._bindMap[t]=!0,this.netMgr.bindRpc(t,e))},e.prototype.unBindRpc=function(t){this._bindMap[t]=!1,this.netMgr.unBindRpc(t)},e.prototype.send=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.netMgr.send(t,e)},e.prototype.openNetHandle=function(){},e.prototype.closeNetHandle=function(){},e._instance=null,e.FOREIGN_SERVER="wss://h5test.175game.com:10096/1500",e.INNER_SERVER="192.168.0.141:7654",e}(cc.Component);n.Q10NetMgr=i,cc._RF.pop()},{"../../core/network/net-mgr":"net-mgr"}],"rank-panel":[function(t,e,n){"use strict";cc._RF.push(e,"fa9adt+u39Gw7H8puR6NTBb","rank-panel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../comm/ui/base-panel"),i=t("../../comm/util/utils"),r=t("../../data/event-list"),a=t("../../comm/mgr/game-mgr"),c=cc._decorator,s=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._closeCallback=null,e}return __extends(e,t),e.prototype.init=function(){},e.prototype.onRefreshUI=function(){this._closeCallback=this._params.closeCallback||null,i.Util.wxSendMessage(r.OpenDataEvent.UPDATE_RANK,a.default.instance.wxUserInfo)},e.prototype.onClose=function(){this._closeCallback&&(this._closeCallback(),this._closeCallback=null)},e=__decorate([s],e)}(o.default));n.default=l,cc._RF.pop()},{"../../comm/mgr/game-mgr":"game-mgr","../../comm/ui/base-panel":"base-panel","../../comm/util/utils":"utils","../../data/event-list":"event-list"}],"res-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"3460bScVE5PNYZKxL7PIjxe","res-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./engine-extension"),i=function(){function t(){this._refCounter={},this._cache={},this._waitingCallbacks={},this._tmpInfo={},this._loadingRes=0,this._preReleaseReses=[],t.ins=this,cc.director.getScene()&&(this._addRangeRefCount(cc.director.getScene().dependAssets),this._addAllPersistentNodesRefCount())}return t.prototype.onSwitchScene=function(t,e){this._addRangeRefCount(e),this._releaseRangeRefCount(t,!1)},t.prototype.onAddPersistRootNode=function(t){if(!t._persistNode){var e=this._generateNodeDepencies(t);this._addRangeRefCount(e),this._monitorNodeDestroy(t)}},t.prototype.onRemovePersistRootNode=function(t){if(t._persistNode){this._unMonitorNodeDestroy(t);var e=this._generateNodeDepencies(t);this._releaseRangeRefCount(e,!1)}},t.prototype.retainAsset=function(t,e){var n=this._getResKey(t,e);return this._cache[n]?(this._addAssetRef(n),this._checkAsset(n)):null},t.prototype.releaseAsset=function(t,e){this.deSpawnAsset(t,e)},t.prototype.spawnAsset=function(t,e,n,o){for(var i=this,r=[],a=4;a<arguments.length;a++)r[a-4]=arguments[a];if(e)if(cc.js.isChildClassOf(e,cc.RawAsset)){var c=this._getResKey(t,e);if(this._cache[c]){this._addAssetRef(c);var s=this._checkAsset(c);n.apply(void 0,[s].concat(r))}else this._waitingCallbacks&&this._waitingCallbacks[c]?this._waitingCallbacks[c].push([n,o,r]):(this._waitingCallbacks[c]=[],this._waitingCallbacks[c].push([n,o,r]),this._loadingRes++,cc.loader.loadRes(t,e,function(e,n){var o,r=i._waitingCallbacks[c];delete i._waitingCallbacks[c],i._loadingRes--,e?(cc.error("load asset error: "+e.message+"\n"+e.stack),o=e):(i._cache[c]=n,i._addRangeRefCount(cc.loader.getDependsRecursively(c)),i._addAssetRef(c,r.length-1),cc.log("res loaded:"+c,t));for(var a=0,s=r.length;a<s;a++){var l=e?r[a][1]:r[a][0],u=r[a][2];o=i._checkAsset(c),l.apply(void 0,[o].concat(u))}if(0===i._loadingRes){for(var p=0,d=i._preReleaseReses;p<d.length;p++){var h=d[p];i.deSpawnAsset(h[0],h[1])}i._preReleaseReses=[]}}))}else cc.error("Asset Type must be child of cc.RawAsset. given: "+e);else cc.error("must be specific a asset type!")},t.prototype._tryCallback=function(t){Object.keys(t.loaded).length===Object.keys(t.res).length&&(t.isError?t.errorCB&&t.errorCB.apply(t,[t.loaded].concat(t.args)):t.completeCB.apply(t,[t.loaded].concat(t.args)))},t.prototype._onLoadOne=function(t,e,n){n.loaded[e]=t,n.progressCB&&n.progressCB(Object.keys(n.loaded).length,Object.keys(n.res).length,e,n.res[e],t),this._tryCallback(n)},t.prototype._onErrorOne=function(t,e,n){n.isError=!0,n.loaded[e]=t,this._tryCallback(n)},t.prototype.spawnAssets=function(t,e,n,o){for(var i=[],r=4;r<arguments.length;r++)i[r-4]=arguments[r];var a={res:t,loaded:{},completeCB:e,errorCB:n,progressCB:o,isError:!1,args:i};for(var c in t){t[c];this.spawnAsset(c,t[c],this._onLoadOne.bind(this),this._onErrorOne.bind(this),c,a)}},t.prototype.deSpawnAsset=function(t,e){if(e)if(cc.js.isChildClassOf(e,cc.RawAsset)){var n=this._getResKey(t,e);this._waitingCallbacks[n]?cc.log("{url: "+t+", type: "+cc.js.getClassName(e)+"} is loading!"):this._loadingRes>0?this._preReleaseReses.push([t,e]):this._tryReleaseAssetByKey(n)}else cc.error("Asset Type must be child of cc.RawAsset");else cc.error("must be specific a asset type!")},t.prototype._getResKey=function(t,e){var n=cc.loader._getResUuid(t,e);return cc.AssetLibrary._getAssetInfoInRuntime(n,this._tmpInfo),this._tmpInfo.url||n},t.prototype._checkAsset=function(t){return this._cache[t]instanceof cc.Prefab?cc.instantiate(this._cache[t]):this._cache[t]},t.prototype._addRangeRefCount=function(t){for(var e=0,n=t.length;e<n;e++){var o=t[e];this._addAssetRef(o)}},t.prototype._releaseRangeRefCount=function(t,e){for(var n=0,o=t.length;n<o;n++)this._tryReleaseAssetByKey(t[n],e)},t.prototype._addAssetRef=function(t,e){void 0===e&&(e=1),this._refCounter[t]=this._refCounter[t]?this._refCounter[t]+e:e},t.prototype._tryReleaseAssetByKey=function(t,e){if(void 0===e&&(e=!0),this._refCounter[t]<=0)cc.error("Asset reference count maintain failed: "+t+", refCount: "+this._refCounter[t]);else if(this._refCounter[t]--,!(this._refCounter[t]>0)){if(this._cache[t]&&delete this._cache[t],e)for(var n=cc.loader.getDependsRecursively(t),o=0,i=n.length;o<i;o++)n[o]!==t&&this._tryReleaseAssetByKey(n[o],!1);cc.loader.release(t),cc.log("release res:"+t)}},t.prototype._addAllPersistentNodesRefCount=function(){for(var t=Object.keys(cc.game._persistRootNodes).map(function(t){return cc.game._persistRootNodes[t]}),e=cc.js.createMap(),n=0;n<t.length;n++)this._visitNode(t[n],e),this._monitorNodeDestroy(t[n]);var o=Object.keys(e);this._addRangeRefCount(o)},t.prototype._monitorNodeDestroy=function(t){var e=function(){this.onRemovePersistRootNode(t)}.bind(this);o.EngineExtension.hookNodeBeforeDestroy(t,e)},t.prototype._unMonitorNodeDestroy=function(t){o.EngineExtension.unHookBeforeDestroy(t)},t.prototype._generateNodeDepencies=function(t){var e=cc.js.createMap();return this._visitNode(t,e),Object.keys(e)},t.prototype._parseDepends=function(t,e){var n=cc.loader.getItem(t);if(n){var o=n.dependKeys;if(o)for(var i=0,r=o.length;i<r;i++){var a=o[i];e[a]||(e[a]=!0,this._parseDepends(a,e))}}},t.prototype._visitAsset=function(t,e){var n=cc.loader._getReferenceKey(t);e[n]||(e[n]=!0,this._parseDepends(n,e))},t.prototype._visitComponent=function(t,e){for(var n=Object.getOwnPropertyNames(t),o=0,i=n.length;o<i;o++){var r=t[n[o]];if("object"==typeof r&&r)if(Array.isArray(r))for(var a=0;a<r.length;a++){(s=r[a])instanceof cc.RawAsset&&this._visitAsset(s,e)}else if(r.constructor&&r.constructor!==Object)r instanceof cc.RawAsset&&this._visitAsset(r,e);else{var c=Object.getOwnPropertyNames(r);for(a=0;a<c.length;a++){var s;(s=r[c[a]])instanceof cc.RawAsset&&this._visitAsset(s,e)}}}},t.prototype._visitNode=function(t,e){for(var n=0,o=t._components.length;n<o;n++)this._visitComponent(t._components[n],e);for(n=0;n<t._children.length;n++)this._visitNode(t._children[n],e)},t}();n.default=i,cc._RF.pop()},{"./engine-extension":"engine-extension"}],"rpc-dispatch":[function(t,e,n){"use strict";cc._RF.push(e,"bdda6MIGrZBKqcQaZTNqEsg","rpc-dispatch"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.dispatch={}}return t.prototype.bind=function(t,e){if(cc.log("bind "+t),this.dispatch[t])throw new Error("protocol: "+t+" has already bind to function: "+e);this.dispatch[t]=e},t.prototype.unbind=function(t){this.dispatch[t]=null},t.prototype.getFunction=function(t){return this.dispatch[t]},t}();n.RpcDispatch=o,cc._RF.pop()},{}],rpc:[function(t,e,n){"use strict";cc._RF.push(e,"eb795/DmDlPMYSjEW9WbAMt","rpc"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=function(){function t(){this.classMetaRegex=/field_count:(\d+),c_imp:(\d),class_name=(\w+)/,this.classFieldRegex=/field_type:(\d+),class_index:(\-?\d+),array:(\-?\d),field_name:(\w+)/,this.funcMetaRegex=/function_id:(\d+),c_imp:(\-?\d),arg_count:(\d+),module:(.+),function_name:(\w+)/,this.funcArgRegex=/arg_type:(\d+),class_index:(\-?\d+),array:(\-?\d),arg_name:(\w+)/,this.pname2pid={},this.funcCfg={},this.classCfg=[]}return t.prototype.init=function(t){for(var e,n=0,o=t.split("\n"),i=o[n++].split(":"),r=(i[0],i[1]),a=parseInt(r),c=0;c<a;c++){e=o[n++];for(var s=this.classMetaRegex.exec(e),l=parseInt(s[1]),u={field_count:l,c_imp:_=parseInt(s[2]),class_name:s[3],field:[]},p=0;p<l;p++){e=o[n++],s=this.classFieldRegex.exec(e);var d={type:parseInt(s[1]),class_index:parseInt(s[2]),array:parseInt(s[3]),field_name:s[4]};u.field.push(d)}this.classCfg.push(u)}var h=o[n++].split(":"),f=(h[0],h[1]),m=parseInt(f);for(c=0;c<m;c++){e=o[n++];s=this.funcMetaRegex.exec(e);var g=parseInt(s[1]),_=parseInt(s[2]),y=parseInt(s[3]),v=s[4],b=s[5];for(u={c_imp:_,arg_count:y,module:v,function_name:b,args:[]},p=0;p<y;p++){e=o[n++],s=this.funcArgRegex.exec(e);var C={type:parseInt(s[1]),class_index:parseInt(s[2]),array:parseInt(s[3]),arg_name:s[4]};u.args.push(C)}this.funcCfg[g.toString()]=u,this.pname2pid[b]=g}return!0},t.prototype.getPnameFromPid=function(t){var e=this.funcCfg[t.toString()];if(e)return e.function_name},t.prototype.getPidFromPname=function(t){return this.pname2pid[t]},t.prototype.getModule=function(t){var e=this.funcCfg[t.toString()];if(e)return e.module},t}();n.RPCCFG=i,function(t){t[t.RPC_INT=0]="RPC_INT",t[t.RPC_STRING=1]="RPC_STRING",t[t.RPC_CLASS=2]="RPC_CLASS",t[t.RPC_INT8=6]="RPC_INT8",t[t.RPC_INT16=7]="RPC_INT16",t[t.RPC_FLOAT=8]="RPC_FLOAT",t[t.RPC_DOUBLE=9]="RPC_DOUBLE",t[t.RPC_INT64=10]="RPC_INT64"}(o||(o={}));var r=function(){function t(){this.packBuff=new ArrayBuffer(t.MAX_PACK_SIZE),this.packBuffView=new DataView(this.packBuff),this.packOffset=0,this.unpackBuff=null,this.unpackBuffView=null,this.unpackOffset=null,this.cfg=new i}return t.prototype.initCFG=function(t){this.cfg.init(t)},t.prototype.getClassInfo=function(t){return t>=0?this.cfg.classCfg[t]:null},t.prototype.packInt=function(t){this.packBuffView.setInt32(this.packOffset,t,!0),this.packOffset+=4},t.prototype.packInt8=function(t){this.packBuffView.setInt8(this.packOffset,t),this.packOffset+=1},t.prototype.packInt16=function(t){this.packBuffView.setInt32(this.packOffset,t,!0),this.packOffset+=2},t.prototype.packInt64=function(t){this.packBuffView.setFloat64(this.packOffset,t,!0),this.packOffset+=8},t.prototype.packFloat=function(t){this.packBuffView.setFloat32(this.packOffset,t,!0),this.packOffset+=4},t.prototype.packDouble=function(t){this.packBuffView.setFloat64(this.packOffset,t,!0),this.packOffset+=8},t.prototype.packString=function(t){t=unescape(encodeURIComponent(t)),this.packInt(t.length);for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);this.packBuffView.setUint8(this.packOffset,n),this.packOffset+=1}},t.prototype.packArray=function(t,e,n){this.packInt(t.length);for(var o=0;o<t.length;o++){var i=t[o];this.packField(i,e,n)}},t.prototype.packClass=function(t,e){for(var n=e.field,o=n.length,i=0;i<o;i++){var r=n[i],a=r.type,c=r.field_name,s=-1===r.array,l=r.class_index,u=this.getClassInfo(l),p=t[c];s?this.packArray(t[c],a,u):this.packField(p,a,u)}},t.prototype.packField=function(t,e,n){switch(e){case o.RPC_INT:this.packInt(t);break;case o.RPC_INT8:this.packInt8(t);break;case o.RPC_INT16:this.packInt16(t);break;case o.RPC_INT64:this.packInt64(t);break;case o.RPC_FLOAT:this.packFloat(t);break;case o.RPC_DOUBLE:this.packInt64(t);break;case o.RPC_STRING:this.packString(t);break;case o.RPC_CLASS:this.packClass(t,n);break;default:throw new Error("pack field error. not support type:"+e.toString())}},t.prototype.unpackInt=function(){var t=this.unpackBuffView.getInt32(this.unpackOffset,!0);return this.unpackOffset+=4,t},t.prototype.unpackInt8=function(){var t=this.unpackBuffView.getInt8(this.unpackOffset);return this.unpackOffset+=1,t},t.prototype.unpackInt16=function(){var t=this.unpackBuffView.getInt16(this.unpackOffset,!0);return this.unpackOffset+=2,t},t.prototype.unpackInt64=function(){var t=this.unpackBuffView.getFloat64(this.unpackOffset,!0);return this.unpackOffset+=8,t},t.prototype.unpackFloat=function(){var t=this.unpackBuffView.getFloat32(this.unpackOffset,!0);return this.unpackOffset+=4,t},t.prototype.unpackDouble=function(){var t=this.unpackBuffView.getFloat64(this.unpackOffset,!0);return this.unpackOffset+=8,t},t.prototype.unpackString=function(){for(var t=this.unpackInt(),e=[],n=this.unpackBuffView,o=this.unpackOffset,i=0;i<t;i++)e.push(n.getUint8(o)),o++;this.unpackOffset=o;var r=String.fromCharCode.apply(String,e);return r=decodeURIComponent(escape(r))},t.prototype.unpackClass=function(t){for(var e=t.field,n={},o=e.length,i=0;i<o;i++){var r=e[i],a=r.type,c=r.field_name,s=-1===r.array,l=r.class_index,u=this.getClassInfo(l);n[c]=s?this.unpackArray(a,u):this.unpackField(a,u)}return n},t.prototype.unpackField=function(t,e){switch(t){case o.RPC_INT:return this.unpackInt();case o.RPC_INT8:return this.unpackInt8();case o.RPC_INT16:return this.unpackInt16();case o.RPC_INT64:return this.unpackInt64();case o.RPC_FLOAT:return this.unpackFloat();case o.RPC_DOUBLE:return this.unpackDouble();case o.RPC_STRING:return this.unpackString();case o.RPC_CLASS:return this.unpackClass(e);default:throw new Error("unpack field error. not support type:"+t.toString())}},t.prototype.unpackArray=function(t,e){for(var n=this.unpackInt(),o=[],i=0;i<n;i++)o.push(this.unpackField(t,e));return o},t.prototype.pack=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this.packOffset=t.RPC_HEADER_SIZE;var i=this.cfg.funcCfg[e.toString()];this.packInt(e);var r=i.args;if(n.length!=r.length-1)throw new Error("pack error. args length mismatch, except "+(r.length-1)+", given "+n.length+", function name is: "+i.function_name);for(var a=n.length,c=0;c<a;c++){var s=n[c],l=r[c+1],u=l.type,p=-1===l.array,d=l.class_index,h=this.getClassInfo(d);p?this.packArray(s,u,h):this.packField(s,u,h)}return this.packBuffView.setInt32(0,this.packOffset-4,!0),this.packBuff.slice(0,this.packOffset)},t.prototype.unpack=function(t,e){this.unpackBuff=t,this.unpackBuffView=new DataView(this.unpackBuff),this.unpackOffset=e;var n=this.unpackInt(),o=this.cfg.funcCfg[n.toString()];if(!o)return cc.log("unpack fail. invalid pid: "+n),null;var i=o.args,r=[];r.push(n);for(var a=i.length,c=1;c<a;c++){var s=i[c],l=s.type,u=-1===s.array,p=s.class_index,d=this.getClassInfo(p);u?r.push(this.unpackArray(l,d)):r.push(this.unpackField(l,d))}return r},t.MAX_PACK_SIZE=102400,t.RPC_HEADER_SIZE=4,t}();n.default=r,cc._RF.pop()},{}],"scene-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"ebee9F/nihDGbmKEc9OqhQm","scene-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../data/constant"),i=t("../util/utils"),r=cc._decorator,a=r.ccclass,c=(r.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._root=null,e._sceneCache={},e.curScene=o.Scene.None,e.sceneNode=null,e}return __extends(e,t),e.prototype.init=function(){this._root=cc.find("Scene"),this._root.position=cc.v2(.5*cc.winSize.width,.5*cc.winSize.height)},e.prototype.loadScene=function(t,e,n){n||t!=this.curScene&&this.unLoadScene(this.curScene),this.sceneNode=i.Util.loadAsset(o.ResType.PrefabScene,t),this.sceneNode.parent=this._root,this.sceneNode.position=cc.Vec2.ZERO,this.curScene=t,this._sceneCache[t]=this.sceneNode,e&&e(this.sceneNode)},e.prototype.unLoadScene=function(t){this.sceneNode&&(this.curScene==t&&(this.curScene=""),i.Util.unloadAsset(o.ResType.PrefabScene,t),this._sceneCache[t].destroy(),this._sceneCache[t]=null,this.sceneNode=null)},e.prototype.clear=function(){for(var t in this._sceneCache)this._sceneCache[t].destroy(),this._sceneCache[t]=null},e.prototype.onDisable=function(){this.clear()},e=__decorate([a],e)}(cc.Component));n.SceneMgr=c,cc._RF.pop()},{"../../data/constant":"constant","../util/utils":"utils"}],"sel-includes":[function(t,e,n){"use strict";cc._RF.push(e,"5e8127BwftI+7VFOb5kiowX","sel-includes"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./sel-mem-priority");n.SelectorMemPriority=o.default;var i=t("./sel-mem-sequence");n.SelectorMemSequence=i.default;var r=t("./sel-priority");n.SelectorPriority=r.default;var a=t("./sel-sequence");n.SelectorSequence=a.default,cc._RF.pop()},{"./sel-mem-priority":"sel-mem-priority","./sel-mem-sequence":"sel-mem-sequence","./sel-priority":"sel-priority","./sel-sequence":"sel-sequence"}],"sel-mem-priority":[function(t,e,n){"use strict";cc._RF.push(e,"7b5b6BcOoBGuLzbEkgykYfW","sel-mem-priority"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-composite"),i=t("../../constants"),r=function(t){function e(e){var n=(void 0===e?{}:e).children,o=void 0===n?[]:n;return t.call(this,{children:o,name:"MemPriority"})||this}return __extends(e,t),e.prototype.open=function(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)},e.prototype.tick=function(t){for(var e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){var n=this.children[e]._execute(t);if(n!==i.NodeState.Failure)return n===i.NodeState.Running&&t.blackboard.set("runningChild",e,t.tree.id,this.id),n}return i.NodeState.Failure},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-composite":"bt-composite"}],"sel-mem-sequence":[function(t,e,n){"use strict";cc._RF.push(e,"71409lAs4tNj6c0lEyXcAYy","sel-mem-sequence"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-composite"),i=t("../../constants"),r=function(t){function e(e){var n=(void 0===e?{}:e).children,o=void 0===n?[]:n;return t.call(this,{name:"MemSequence",children:o})||this}return __extends(e,t),e.prototype.open=function(t){t.blackboard.set("runningChild",0,t.tree.id,this.id)},e.prototype.tick=function(t){for(var e=t.blackboard.get("runningChild",t.tree.id,this.id);e<this.children.length;e++){var n=this.children[e]._execute(t);if(n!==i.NodeState.Success)return n===i.NodeState.Running&&t.blackboard.set("runningChild",e,t.tree.id,this.id),n}return i.NodeState.Success},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-composite":"bt-composite"}],"sel-priority":[function(t,e,n){"use strict";cc._RF.push(e,"96f75FNJkhPgIToG9Pdj8+S","sel-priority"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-composite"),i=t("../../constants"),r=function(t){function e(e){var n=(void 0===e?{}:e).children,o=void 0===n?[]:n;return t.call(this,{name:"Priority",children:o})||this}return __extends(e,t),e.prototype.tick=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e]._execute(t);if(n!==i.NodeState.Failure)return n}return i.NodeState.Failure},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-composite":"bt-composite"}],"sel-sequence":[function(t,e,n){"use strict";cc._RF.push(e,"3ee0bGWVSRL3Z3nzkPwewmH","sel-sequence"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../core/bt-composite"),i=t("../../constants"),r=function(t){function e(e){var n=(void 0===e?{}:e).children,o=void 0===n?[]:n;return t.call(this,{name:"Sequence",children:o})||this}return __extends(e,t),e.prototype.tick=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e]._execute(t);if(n!==i.NodeState.Success)return n}return i.NodeState.Success},e}(o.default);n.default=r,cc._RF.pop()},{"../../constants":"constants","../../core/bt-composite":"bt-composite"}],"tabs-panel":[function(t,e,n){"use strict";cc._RF.push(e,"1c910L4fCZFWaRQIAM0CRDZ","tabs-panel"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pages=null,e.tabs=null,e.enableScroll=!1,e.isSlide=!0,e._page=-1,e._toggleList=[],e}return __extends(e,t),e.prototype.start=function(){var t=this;this._toggleList=this.tabs.getComponentsInChildren(cc.Toggle),this._toggleList.forEach(function(e,n){e.isChecked&&(t._page=n)})},e.prototype.onEnable=function(){this.setCurrentPageIndex(this._page)},e.prototype.setCurrentPageIndex=function(t){if(t!=this._page){for(var e=0;e<this.pages.childrenCount;++e)t==e?(this.pages.children[e].active=!0,e<this._toggleList.length&&this._toggleList[e].check()):this.pages.children[e].active=!1;this._page=t}},e.prototype.getCurrentPageIndex=function(){return this._page},e.prototype.onDisable=function(){},__decorate([r({type:cc.Node})],e.prototype,"pages",void 0),__decorate([r({type:cc.Node})],e.prototype,"tabs",void 0),__decorate([r],e.prototype,"enableScroll",void 0),__decorate([r],e.prototype,"isSlide",void 0),e=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{}],test:[function(t,e,n){"use strict";cc._RF.push(e,"3df75zlvkBHmr6kntO4vvw3","test"),cc._RF.pop()},{}],tileMapIcn:[function(t,e,n){"use strict";cc._RF.push(e,"ca124AtjmtFYKQX/gs+aaZ8","tileMapIcn"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../data/constant"),i=cc._decorator,r=i.ccclass,a=i.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbNumber=null,e.lbCollectionTips=null,e.ShapeIcn=null,e.typeIndex=0,e.data=0,e.quantities=0,e.updateUI=!0,e}return __extends(e,t),e.prototype.init=function(t,e,n,o){switch(this.typeIndex=t,this.data=e,this.lbNumber.string=e.toString(),this.quantities=0,null!=n&&(this.node.parent=n),this.node.position=o,this.lbCollectionTips.string="",t){case 0:this.initNumber();break;case 1:this.initShape()}},e.prototype.initNumber=function(){this.ShapeIcn.active=!1,this.lbNumber.node.active=!0,this.refreshSelf(),this.animScale()},e.prototype.initShape=function(){},e.prototype.refreshSelf=function(){this.quantities>=1&&this.quantities<=20?this.lbNumber.node.color=o.Colors["num"+this.quantities]:this.lbNumber.node.color=o.Colors.nums},e.prototype.animScale=function(){this.node.runAction(cc.sequence(cc.scaleTo(.15,1.4),cc.scaleTo(.15,1)))},e.prototype.hiddenIcn=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(.5),cc.callFunc(function(){t.node.active=!1})))},e.prototype.showIcn=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(.1),cc.callFunc(function(){t.node.active=!0})))},e.prototype.animBlink=function(){var t=this;return new Promise(function(e,n){t.node.runAction(cc.sequence(cc.blink(.5,3),cc.callFunc(function(){e()})))})},e.prototype.addQuantities=function(t){this.quantities<20?this.quantities+=t:this.quantities=20,this.refreshSelf()},__decorate([a(cc.Label)],e.prototype,"lbNumber",void 0),__decorate([a(cc.Label)],e.prototype,"lbCollectionTips",void 0),__decorate([a(cc.Node)],e.prototype,"ShapeIcn",void 0),e=__decorate([r],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../../data/constant":"constant"}],tile:[function(t,e,n){"use strict";cc._RF.push(e,"55f40lPCZxCCJpHKnks2/U7","tile"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../data/constant"),i=t("../../comm/mgr/pool-mgr"),r=cc._decorator,a=r.ccclass,c=r.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spAnimal=null,e.lbNumber=null,e.lbAddScore=null,e.type=o.TileType.Number,e.data=0,e.level=1,e}return __extends(e,t),e.prototype.init=function(t,e,n,i){switch(this.type=t,this.data=e,this.level=1,this.node.parent=n,this.node.position=i,this.lbAddScore.string="",t){case o.TileType.Number:this.initNumber();break;case o.TileType.Image:this.initImage()}},e.prototype.initNumber=function(){this.spAnimal.node.active=!1,this.lbNumber.node.active=!0,this.refreshSelf(),this.animScale()},e.prototype.initImage=function(){},e.prototype.refreshSelf=function(){this.lbNumber.string=this.data.toString(),this.level>1&&(this.lbAddScore.string="x "+this.level),this.data>=1&&this.data<=20?this.node.color=o.Colors["num"+this.data]:this.node.color=o.Colors.nums},e.prototype.animScale=function(){this.node.runAction(cc.sequence(cc.scaleTo(.15,1.4),cc.scaleTo(.15,1)))},e.prototype.animBlink=function(){var t=this;return new Promise(function(e,n){t.node.runAction(cc.sequence(cc.blink(.3,3),cc.callFunc(function(){e()})))})},e.prototype.addOne=function(){this.node.setSiblingIndex(24),this.data<20&&this.data++,this.refreshSelf()},e.prototype.moveTo=function(t){this.node.runAction(cc.moveTo(.12,t))},e.prototype.addScoreLevel=function(){this.level++,this.refreshSelf()},e.prototype.die=function(){var t=this;this.animBlink().then(function(){i.default.instance.put(t.node,"tile",o.ResType.PrefabGame)})},__decorate([c(cc.Sprite)],e.prototype,"spAnimal",void 0),__decorate([c(cc.Label)],e.prototype,"lbNumber",void 0),__decorate([c(cc.Label)],e.prototype,"lbAddScore",void 0),e=__decorate([a],e)}(cc.Component);n.default=s,cc._RF.pop()},{"../../comm/mgr/pool-mgr":"pool-mgr","../../data/constant":"constant"}],"timer-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"c019aCaflJDXKUR19SD0oAQ","timer-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=(o.property,function(){return function(){}}());n.TimerInfo=r;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends(e,t),n=e,Object.defineProperty(e,"instance",{get:function(){return this._instance},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){n._instance=this},e._instance=null,e=n=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{}],timer:[function(t,e,n){"use strict";cc._RF.push(e,"0d5feLF21NHw7dPh4CFiFy3","timer"),Object.defineProperty(n,"__esModule",{value:!0}),function(t){var e;t.init_timer=function(t){e=t},t.setGlobalTimeout=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return setTimeout.apply(void 0,[t,e].concat(n))},t.clearGlobalTimeout=function(t){clearTimeout(t)},t.setGlobalInterval=function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return setInterval.apply(void 0,[t,e].concat(n))},t.clearGlobalInterval=function(t){clearInterval(t)},t.setTimeScale=function(t){e.setTimeScale(t)},t.getTimeScale=function(){return e.getTimeScale()},t.update=function(t){e.update(t)},t.schedule=function(t,n,o,i,r,a){e.schedule(t,n,o,i,r,a)},t.scheduleUpdate=function(t,n,o){e.scheduleUpdate(t,n,o)},t.unschedule=function(t,n){e.unschedule(t,n)},t.unscheduleUpdate=function(t){e.unscheduleUpdate(t)},t.unscheduleAllForTarget=function(t){e.unscheduleAllForTarget(t)},t.unscheduleAll=function(){e.unscheduleAll()},t.unscheduleAllWithMinPriority=function(t){e.unscheduleAllWithMinPriority(t)},t.isScheduled=function(t,n){return e.isScheduled(t,n)},t.pauseAllTargets=function(){e.pauseAllTargets()},t.pauseAllTargetsWithMinPriority=function(t){e.pauseAllTargetsWithMinPriority(t)},t.resumeTargets=function(t){e.resumeTarget(t)},t.pauseTarget=function(t){e.pauseTarget(t)},t.resumeTarget=function(t){e.resumeTarget(t)},t.isTargetPaused=function(t){return e.isTargetPaused(t)}}(n.Timer||(n.Timer={})),cc._RF.pop()},{}],"toggle-active":[function(t,e,n){"use strict";cc._RF.push(e,"9ba5fuhAilPHI+92bpo2Kip","toggle-active"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,r=o.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activeNode=null,e.deActiveNode=null,e.toggle=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.toggle=this.node.getComponent(cc.Toggle)},e.prototype.updateTogState=function(t){this.activeNode.active=t,this.deActiveNode.active=!t},__decorate([r(cc.Node)],e.prototype,"activeNode",void 0),__decorate([r(cc.Node)],e.prototype,"deActiveNode",void 0),e=__decorate([i],e)}(cc.Component);n.default=a,cc._RF.pop()},{}],"toggle-container":[function(t,e,n){"use strict";cc._RF.push(e,"63a2bR1m5NOsJFT8dSbEYPt","toggle-container"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./toggle-active"),i=t("./tabs-panel"),r=t("../util/utils"),a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.togList=new Array,e.tabsPanel=null,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.tabsPanel=r.Util.getComponentInParent(this.node,i.default),this.togList=this.node.getComponentsInChildren(o.default);var e=null;this.togList.forEach(function(n){var o=new cc.Component.EventHandler;o.target=t.node,o.component="toggle-container",o.handler="onToggleCheck",n.toggle.checkEvents.push(o),n.toggle.isChecked&&(e=n.toggle)}),this.onToggleCheck(e)},e.prototype.onToggleCheck=function(t){var e=this;this.togList.forEach(function(n,o){t.uuid==n.toggle.uuid?(n.updateTogState(!0),e.tabsPanel.setCurrentPageIndex(o)):n.updateTogState(!1)})},e.prototype.inToggleCheck=function(t){this.tabsPanel.setCurrentPageIndex(t)},e=__decorate([c],e)}(cc.Component));n.default=s,cc._RF.pop()},{"../util/utils":"utils","./tabs-panel":"tabs-panel","./toggle-active":"toggle-active"}],"ui-mgr":[function(t,e,n){"use strict";cc._RF.push(e,"c68e0mBxiRH6rz2mNvDnZxE","ui-mgr"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./game-mgr"),i=t("../ui/base-panel"),r=t("../../data/Constant"),a=t("../ui/event-listener"),c=t("../util/utils"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._uiMap={},e._root=null,e._mainContainer=null,e._alertContainer=null,e._floatContainer=null,e._topContianer=null,e._curMainPanel=null,e._curAlertPanel=null,e._curFloatPanel=null,e._mask=null,e}return __extends(e,t),e.prototype.openPanel=function(t,e,n){if(void 0===e&&(e=!0),this._uiMap[t]){var o=this._uiMap[t];return this.setCurPanelParent(o,e),void this.afterCreated(o,o.node,n)}var a=c.Util.loadAsset(r.ResType.PrefabUI,t),s=a.getComponent(i.default);s&&(this.setCurPanelParent(s,e),a.position=cc.Vec2.ZERO,this._uiMap[t]=s,s._panelName=t,this.afterCreated(s,a,n))},e.prototype.isOpen=function(t){return this._uiMap[t]&&this._uiMap[t].node.active},e.prototype.setCurPanelParent=function(t,e){switch(t.layer){case r.UILayer.MAIN:t.node.parent=this._mainContainer,this._curMainPanel&&e&&this._curMainPanel.close(),this._curMainPanel=t;break;case r.UILayer.FLOAT:t.node.parent=this._floatContainer,this._curFloatPanel=t;break;case r.UILayer.ALERT:t.node.parent=this._alertContainer;break;case r.UILayer.TOP:t.node.parent=this._topContianer;break;default:t.node.parent=this._mainContainer}var n=t.node.parent.childrenCount-1;t.node.setSiblingIndex(n)},e.prototype.afterCreated=function(t,e,n){if(e.active=!0,t.isNeedMask&&!t.mask){t.mask=cc.instantiate(this._mask),t.mask.parent=e;var o=t.mask.addComponent(a.default);o.eventType=r.EventType.Button,o.callback="onTapMask",t.mask.setSiblingIndex(0),t.mask.position=cc.Vec2.ZERO,t.mask.active=!0,t.mask.opacity=100}t.isAnimation&&(e.scale=.3,e.opacity=50,e.runAction(cc.spawn(cc.scaleTo(t.animDuration,1).easing(cc.easeCubicActionOut()),cc.fadeTo(t.animDuration,255).easing(cc.easeCubicActionOut())))),t.open(n)},e.prototype.closePanel=function(t){if(this._uiMap[t]){var e=this._uiMap[t],n=!0;e.layer==r.UILayer.ALERT||e.layer==r.UILayer.FLOAT||e.layer==r.UILayer.MAIN?n=!1:this._uiMap[t]=null,e.isAnimation?e.node.runAction(cc.sequence(cc.spawn(cc.scaleTo(e.animDuration,.3).easing(cc.easeCubicActionIn()),cc.fadeTo(e.animDuration,50).easing(cc.easeCubicActionIn())),cc.callFunc(function(){e.node.active=!1,n&&c.Util.destroyNode(e.node,r.ResType.PrefabUI,e._panelName)}))):(e.node.active=!1,n&&c.Util.destroyNode(e.node,r.ResType.PrefabUI,e._panelName))}else cc.log("\u8b66\u544a\uff1a"+t.toString()+"\u6ca1\u6709\u6253\u5f00")},e.prototype.openConfirmPanel=function(t,e,n,o,i,a){this.openPanel(r.UIPanel.ConfirmPanel,!1,{title:t,content:e,okCallback:n,cancelCallback:o,okText:i,cancelText:a})},e.prototype.floatTips=function(t,e,n){void 0===e&&(e=2),void 0===n&&(n=.5),this._curFloatPanel.open({msg:t,delay:e,duration:n})},e.prototype.showLoading=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.openPanel(r.UIPanel.LoadingPanel,!1,{content:t,callback:e})},e.prototype.hideLoading=function(t){var e=this;void 0===t&&(t=0),t?this.scheduleOnce(function(){e.closePanel(r.UIPanel.LoadingPanel)},t):this.closePanel(r.UIPanel.LoadingPanel)},e.prototype.init=function(){this._root=o.default.instance.uiRoot.node,this._mainContainer=this._root.getChildByName("main"),this._alertContainer=this._root.getChildByName("alert"),this._floatContainer=this._root.getChildByName("float"),this._topContianer=this._root.getChildByName("top"),this._topContianer.parent=this._root,this._mask=c.Util.loadAsset(r.ResType.PrefabUI,"Mask"),this._mask.parent=this._root,this._mask.active=!1},e.contex=null,e=__decorate([l],e)}(cc.Component));n.default=u,cc._RF.pop()},{"../../data/Constant":"constant","../ui/base-panel":"base-panel","../ui/event-listener":"event-listener","../util/utils":"utils","./game-mgr":"game-mgr"}],utils:[function(t,e,n){"use strict";cc._RF.push(e,"d8e5aN4KmFM2o7Vgd2VWqQ8","utils"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../data/constant"),i=t("../mgr/game-mgr"),r=t("../mgr/pool-mgr"),a=t("../../data/fight-data"),c=t("../../core/comm/res-mgr"),s=t("../../../../packages/i18n/runtime-scripts/LanguageData");(function(t){function e(t,e){return Math.random()*(e-t)+t}function n(t,n){return Math.trunc(e(Math.trunc(t),Math.trunc(n)))}function l(t){var n=0;for(var o in t)n+=t[o];if(n<=0)return-9999;var i=e(0,n);for(var o in t)if(!(t[o]<=0)&&(i-=t[o])<0)return+o;return-9999}function u(t){i.default.instance.plateForm==o.Plateform.Wechat&&t&&t()}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=0;return t.replace(/({\d+})/g,function(t){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];return e[o++]})}function d(t,e){return cc.path.join(t,e)}function h(t){var e;switch(t){case o.ResType.Map:e=cc.TiledMapAsset;break;case o.ResType.UISprite:e=cc.SpriteFrame;break;case o.ResType.Audio:e=cc.AudioClip;break;case o.ResType.SpriteAtlas:e=cc.SpriteAtlas;break;case o.ResType.PrefabUI:case o.ResType.PrefabWeapon:case o.ResType.PrefabChar:case o.ResType.PrefabBullet:case o.ResType.PrefabEffect:case o.ResType.PrefabProp:case o.ResType.PrefabBg:case o.ResType.PrefabScene:case o.ResType.PrefabGame:e=cc.Prefab;break;default:cc.error("\u8fd8\u672a\u652f\u6301"+t+"\u7c7b\u578b\u8d44\u6e90\u7684\u52a0\u8f7d")}return e}function f(t,e){var n=d(t,e),o=h(t);c.default.ins.releaseAsset(n,o)}function m(t){var e=0;return t.forEach(function(t){e+=t}),e}t.random=e,t.randomInt=n,t.randomUnlimitedMeanwhileNum=function(){return l({0:6,1:3,2:1})},t.randomByWeight=l,t.emitEvent=function(t,e,n,o,i,r){cc.systemEvent.hasEventListener(t)&&cc.systemEvent.emit(t,e,n,o,i,r)},t.on=function(t,e,n){cc.systemEvent.on(t,e,n)},t.off=function(t,e,n){cc.systemEvent.off(t,e,n)},t.getNodeDir=function(t){return this.angle2Noraml(t.rotation)},t.angle2Noraml=function(t){return cc.Vec2.UP.rotate(Math.PI/180*-t).normalize()},t.getNormalDir=function(t){return 0===(t=t.normalize()).x&&1===t.y?o.Dir.Up:0===t.x&&-1===t.y?o.Dir.Down:1===t.x&&0===t.y?o.Dir.Right:-1===t.x&&0===t.y?o.Dir.Left:o.Dir.None},t.getComponentInParent=function(t,e){for(var n=t,o=null;null!=n&&"cc_Scene"!=n.constructor.name&&null==(o=n.getComponent(e));)n=n.parent;return o},t.addFlashAction=function(t,e,n){if(e<=0)cc.error("\u65f6\u95f4\u95f4\u9694\u9519\u8bef...");else{var o=cc.sequence(cc.tintTo(e,n.getR(),n.getG(),n.getB()),cc.tintTo(e,cc.Color.WHITE.getR(),cc.Color.WHITE.getG(),cc.Color.WHITE.getB()));t.runAction(o)}},t.beAtkAction=function(t,e){},t.delEle=function(t,e){var n=t.findIndex(function(t){return t==e});return n>=0?t.splice(n,1)[0]:null},t.randomArray=function(t,e){for(var n=[],o=t.length,i=0;i<e;i++){var r=~~(Math.random()*o)+i;n[i]=t[r],t[r]=t[i],o--}return n},t.exe=u,t.getMapSize=function(t){if(!(t&&t instanceof Object))return 0;var e=0;for(var n in t)e++;return e},t.getColorStr=function(t,e){void 0===e&&(e="#101010");var n="#";if("string"==typeof e){if(!e.startsWith("#")||e.length>7||e.length<3||e.length>4&&e.length<6)return cc.error("\u989c\u8272\u503c\u683c\u5f0f\u9519\u8bef\uff0c\u5fc5\u987b\u662f\u4ee5\u4e0b\u5f62\u5f0f\u4e2d\u7684\u4e00\u79cd: #rrggbb, #rgb"),t;n=e.length<=4?n.concat(e[1],e[1],e[2],e[2],e[3],e[3]):e}else console.log(typeof e),e=e,n=n.concat(e.getA().toString(16),e.getG().toString(16),e.getB().toString(16));return"<color="+n+">"+t+"</c>"},t.format=p,t.updateContent=function(t,e,n,o){return new Promise(function(i,r){for(var a=0;a<n;++a){var c=null;a<e.childrenCount?c=e.children[a]:(c=cc.instantiate(t)).parent=e,c.active=!0,c.position=cc.Vec2.ZERO,o&&o(c,a)}for(;a<e.childrenCount;)e.children[a].active=!1,a++;i()})},t.getComponent=function(t,e,n){if(!e)return t.getComponent(n);var o=cc.find(e,t);return o?o.getComponent(n):null},t.setBtnEnable=function(t,e){var n=t.getComponent(cc.Button),o=t.getComponent(cc.Sprite);n&&o&&(n.interactable=e,o.setState(e?0:1))},t.getAssetUrl=d,t.LoadAssetByUrl=function(){},t.loadAsset=function(t,e){var n=d(t,e),o=h(t);return c.default.ins.retainAsset(n,o)},t.unloadAsset=f,t.destroyNode=function(t,e,n){t&&(f(e,n),t.destroy())},t.loadEffect=function(t,e,n){var i=r.default.instance.get(t,o.ResType.PrefabEffect);i.parent=a.default.effectContainer;var c=cc.Vec2.ZERO;e&&(c=e.parent.convertToWorldSpaceAR(e.position),i.position=a.default.effectContainer.convertToNodeSpaceAR(c));var s=i.getComponent(cc.Animation);return s.once("finished",function(e){n&&n(s,e),r.default.instance.put(i,t,o.ResType.PrefabEffect)}),s.play(),i},t.wxSendMessage=function(t,e){u(function(){var n={event:t,data:e};wx.getOpenDataContext().postMessage(n)})},t.getArrSum=m,t.getRndByWightArr=function(t,e){for(var o=n(1,m(t)+1),i=0,r=0;r<t.length;++r){if(!(o>t[r])){i=e[r];break}o-=t[r]}return i},t.range=function(t,e){for(var n=new Array(t),o=0;o<t;++o)n[o]=e();return n},t.range2D=function(t,e,n){for(var o=new Array(t),i=0;i<t;++i){o[i]=new Array(e);for(var r=0;r<e;++r)o[i][r]=n()}return o},t.language=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return p(s.t(t),e)}})(n.Util||(n.Util={})),cc._RF.pop()},{"../../../../packages/i18n/runtime-scripts/LanguageData":"LanguageData","../../core/comm/res-mgr":"res-mgr","../../data/constant":"constant","../../data/fight-data":"fight-data","../mgr/game-mgr":"game-mgr","../mgr/pool-mgr":"pool-mgr"}],"word-panel":[function(t,e,n){"use strict";cc._RF.push(e,"95e54SviW5HYL2gJ7y1KfI8","word-panel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../comm/ui/base-panel"),i=t("../../data/constant"),r=t("../../data/fight-data"),a=t("../../comm/mgr/game-mgr"),c=t("../../comm/util/utils"),s=cc._decorator,l=s.ccclass,u=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.wordPage=null,e.btnStart=null,e}return __extends(e,t),e.prototype.onStart=function(){this.init()},e.prototype.init=function(){this.wordPage.bindSlideCallback(this.onSlideGame,this)},e.prototype.onRefreshUI=function(){},e.prototype.onTapShare=function(t,e){var n=c.Util.randomInt(1,2),o=i.shareSlogan[n].title,r=i.shareSlogan[n].url;wx.shareAppMessage({title:o,imageUrl:r})},e.prototype.onTapVideo=function(t,e){},e.prototype.onTapSecectGame=function(t,e){var n=this.wordPage.curPageIdx+1;switch(1==n?r.default.gameMode=2:2==n&&(r.default.gameMode=1),r.default.gameMode){case i.GameMode.Number:a.default.instance.uiMgr.openPanel(i.UIPanel.MainPanel),this.close();case i.GameMode.Challenge:a.default.instance.uiMgr.openPanel(i.UIPanel.MainPanel),this.close()}},e.prototype.onSlideGame=function(){console.log(this.wordPage.curPageIdx),1==this.wordPage.curPageIdx||(this.btnStart.getComponent(cc.Button).interactable=!0)},__decorate([u(cc.Node)],e.prototype,"btnStart",void 0),e=__decorate([l],e)}(o.default);n.default=p,cc._RF.pop()},{"../../comm/mgr/game-mgr":"game-mgr","../../comm/ui/base-panel":"base-panel","../../comm/util/utils":"utils","../../data/constant":"constant","../../data/fight-data":"fight-data"}],zh:[function(t,e,n){"use strict";cc._RF.push(e,"16737XlLdNFR7NRUM3NcGao","zh"),window.i18n||(window.i18n={}),window.i18n.languages||(window.i18n.languages={}),window.i18n.languages.zh={main_panel:"\u4e3b\u754c\u9762",total_score:"\u6700\u7ec8\u5206\u6570\uff1a{0}",mul_clear_mode6:"\u5173\u5361\uff1a{0}",mul_clear_mode1:"\u9650\u4e94\u5173\u5361\uff1a{0}",mul_clear_mode2:"\u9012\u589e\u5173\u5361\uff1a{0}",mul_clear_mode3:"\u4e94\u8fde\u5173\u5361\uff1a{0}",mul_clear_mode4:"\u591a\u6d88\u5173\u5361\uff1a{0}",mul_clear_mode5:"\u6570\u540c\u5173\u5361\uff1a{0}",game_over:"\u6e38\u620f\u7ed3\u675f",game_title:"\u70e7\u8111\u6570\u5b57",com_share:"\u5206\u4eab",com_video:"\u89c6\u9891",com_score:"\u5206\u6570",com_steps:"\u6b65\u6570",com_play:"\u5f00\u59cb\u6e38\u620f",m_rank:"\u6392\u540d",m_collections:"\u6536\u96c6",m_awards:"\u514d\u8d39\u5956\u52b1",m_revival:"\u514d\u8d39\u590d\u6d3b",collections_rank:"\u6536\u96c6\u6392\u540d",rk_type:"\u7c7b\u578b",rk_quantities:"\u6570\u91cf",rk_score_awards:"\u5f97\u5206\u5956\u52b1",rk_score_rank:"\u5206\u6570\u6392\u540d",rk_rankings:"\u6392\u540d",rk_name:"\u540d\u79f0",rk_head:"\u5934\u50cf",over_current_performance:"\u672c\u6b21\u6210\u7ee9",over_history_bests:"\u5386\u53f2\u6700\u4f73 \uff1a{0}",over_collections_quantity:"\u6536\u96c6\u6570\u91cf \uff1a{0}",over_collection_types:"\u6536\u96c6\u7c7b\u578b \uff1a{0}",m_tips:"\u8bf7\u70b9\u51fb\u6570\u503c\u8ba9\u6570\u503c\u4e0e\u65c1\u8fb9\u7684\u76f8\u540c",in_word:"\u8fdb\u5165\u4e16\u754c",main_word:"\u884c\u8005\u4e16\u754c",try_again:"\u518d\u6765\u4e00\u6b21",m_tgTips:"\u76ee\u6807\u5206\u6570\uff1a{0}",m_tips2:"\u5956\u52b1\u6b65\u6570\uff1a{0}"},cc._RF.pop()},{}]},{},["en","zh","property-bind","property-contex","pre-loader","atlas-mgr","audio-mgr","common-interface","data-mgr","game-mgr","label-ext","local-storage-mgr","pool-mgr","q10-net-mgr","scene-mgr","timer-mgr","ui-mgr","comm-struct","base-panel","event-listener","page-btn","page-view","tabs-panel","toggle-active","toggle-container","utils","b3-functions","act-error","act-failer","act-includes","act-runner","act-succeeder","act-wait","sel-includes","sel-mem-priority","sel-mem-sequence","sel-priority","sel-sequence","drt-includes","drt-inverter","drt-limiter","drt-max-time","drt-repeat-until-failure","drt-repeat-until-success","drt-repeater","constants","behavior-tree-project","behavior-tree","black-board","bt-action","bt-base-node","bt-composite","bt-condition","bt-decorator","bt-tick","engine-extension","event-mgr","md5","monitor-component","polyfill","res-mgr","timer","connection","net-mgr","rpc-dispatch","rpc","constant","event-list","fight-data","gm","collectionList","game-number","tile","tileMapIcn","confirm-panel","float-panel","loading-panel","login-panel","main-panel","over-panel","rank-panel","word-panel","test","LanguageData","LocalizedLabel","LocalizedSprite","SpriteFrameSet","polyglot.min"]);